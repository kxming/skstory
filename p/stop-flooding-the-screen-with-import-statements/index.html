<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="What would it be like to open a file and see nothing but a screen full of import statements?"><title>Stop flooding the screen with import statementsÔºÅÔºÅÔºÅ</title>
<link rel=canonical href=https://www.skstory.online/p/stop-flooding-the-screen-with-import-statements/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Stop flooding the screen with import statementsÔºÅÔºÅÔºÅ"><meta property='og:description' content="What would it be like to open a file and see nothing but a screen full of import statements?"><meta property='og:url' content='https://www.skstory.online/p/stop-flooding-the-screen-with-import-statements/'><meta property='og:site_name' content='SK Story'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Code'><meta property='article:tag' content='Javascript'><meta property='article:published_time' content='2024-05-21T16:22:38+08:00'><meta property='article:modified_time' content='2024-05-21T16:22:38+08:00'><meta property='og:image' content='https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0zTKOnJL-nspQnB9oGhIjA.png'><meta name=twitter:site content="@https://twitter.com/ShawnKxming"><meta name=twitter:creator content="@https://twitter.com/ShawnKxming"><meta name=twitter:title content="Stop flooding the screen with import statementsÔºÅÔºÅÔºÅ"><meta name=twitter:description content="What would it be like to open a file and see nothing but a screen full of import statements?"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0zTKOnJL-nspQnB9oGhIjA.png'><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu1157332405703967761.jpeg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üç•</span></figure><div class=site-meta><h1 class=site-name><a href=/>SK Story</a></h1><h2 class=site-description>Shawn King's Stories Website</h2></div></header><ol class=menu-social><li><a href=mailto:kxming0229@gmail.com target=_blank title=Email rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=https://www.facebook.com/p/King-Shawn-100092679065959/ target=_blank title=Facebook rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-facebook"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 10v4h3v7h4v-7h3l1-4h-4V8a1 1 0 011-1h3V3h-3a5 5 0 00-5 5v2H7"/></svg></a></li><li><a href=https://twitter.com/ShawnKxming target=_blank title=Twitter rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4l11.733 16H20L8.267 4z"/><path d="M4 20l6.768-6.768m2.46-2.46L20 4"/></svg></a></li><li><a href=https://t.me/shawnkxming target=_blank title=Telegram rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-telegram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4 6 6 4-16-18 7 4 2 2 6 3-4"/></svg></a></li><li><a href=https://medium.com/@kxming target=_blank title=Medium rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-medium"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4m0 2a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2z"/><path d="M8 9h1l3 3 3-3h1"/><path d="M8 15h2"/><path d="M14 15h2"/><path d="M9 9v6"/><path d="M15 9v6"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#using-re-export>Using Re-export</a><ol><li><a href=#1-direct-re-export>1. Direct Re-export</a></li><li><a href=#2-rename-and-re-export-including-default-exports>2. Rename and Re-export (Including Default Exports)</a></li><li><a href=#3-re-export-the-entire-module-excluding-default-exports>3. Re-export the Entire Module (Excluding Default Exports)</a></li><li><a href=#4-combine-importing-and-re-exporting>4. Combine Importing and Re-exporting</a></li></ol></li><li><a href=#using-requirecontext>Using require.context</a></li><li><a href=#using-dynamic-import>Using Dynamic Import</a><ol><li><a href=#1-relative-path-vs-absolute-path-vs-module-resolution>1. Relative Path vs Absolute Path vs Module Resolution</a></li><li><a href=#2-characteristics-of-dynamic-import>2. Characteristics of Dynamic import()</a></li></ol></li><li><a href=#using-provideplugin>Using ProvidePlugin</a></li><li><a href=#using-typescript-to-import-types>Using TypeScript to Import Types</a></li><li><a href=#other>Other</a><ol><li><a href=#1-setting-webpack-and-ts-aliases>1. Setting webpack and ts aliases</a></li><li><a href=#2-setting-the-format-of-prettierprintwidth>2. Setting the format of prettier.printWidth</a></li><li><a href=#3-dynamically-loading-components-globally-based-on-conditions>3. Dynamically loading components globally based on conditions</a></li><li><a href=#4-using-babel-plugin-import>4. Using babel-plugin-import</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/stop-flooding-the-screen-with-import-statements/><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0zTKOnJL-nspQnB9oGhIjA.png loading=lazy alt="Featured image of post Stop flooding the screen with import statementsÔºÅÔºÅÔºÅ"></a></div><div class=article-details><header class=article-category><a href=/categories/code/>Code
</a><a href=/categories/javascript/ style=background-color:#d1d419;color:#fff>Javascript</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/stop-flooding-the-screen-with-import-statements/>Stop flooding the screen with import statementsÔºÅÔºÅÔºÅ</a></h2><h3 class=article-subtitle>What would it be like to open a file and see nothing but a screen full of import statements?</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>May 21, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>10 minute read</time></div></footer></div></header><section class=article-content><p>What would it be like to open a file and see nothing but a screen full of import statements?</p><p>The dense import statements are not just a visual assault, but also a test of the code‚Äôs organizational structure.</p><p>How did we end up with a situation where imports ‚Äútake over the screen,‚Äù and how can we manage these import statements elegantly?</p><h2 id=using-re-export>Using Re-export</h2><p>Module re-export is a common technique. For instance, the front-end component library <a class=link href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Farco-design%2Farco-design%2Fblob%2Fmain%2Fcomponents%2Findex.tsx" target=_blank rel=noopener>arco-design</a> exposes all components in the components/index.tsx file, allowing the use of N components with a single import when utilizing the library.</p><h3 id=1-direct-re-export>1. Direct Re-export</h3><p>Directly re-export specific members from another module.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>export</span> <span class=p>{</span> <span class=n>foo</span><span class=p>,</span> <span class=n>bar</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;./moduleA&#39;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=2-rename-and-re-export-including-default-exports>2. Rename and Re-export (Including Default Exports)</h3><p>Import members from another module, potentially rename them and then export again.</p><p>Default exports can also be renamed and re-exported</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>//</span> <span class=n>Exported</span> <span class=n>through</span> <span class=k>export</span>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=p>{</span> <span class=n>foo</span> <span class=n>as</span> <span class=n>newFoo</span><span class=p>,</span> <span class=n>bar</span> <span class=n>as</span> <span class=n>newBar</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;./moduleA&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Exported</span> <span class=n>through</span> <span class=k>export</span> <span class=n>default</span>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=p>{</span> <span class=n>default</span> <span class=n>as</span> <span class=n>ModuleDDefault</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;./moduleD&#39;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=3-re-export-the-entire-module-excluding-default-exports>3. Re-export the Entire Module (Excluding Default Exports)</h3><p>Re-export all exported members of another module as a single object. (Note: The entire export will not include export default)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>export</span> <span class=o>*</span> <span class=n>from</span> <span class=s1>&#39;./moduleA&#39;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=4-combine-importing-and-re-exporting>4. Combine Importing and Re-exporting</h3><p>First, import members from a module, use them, and then re-export them.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>foo</span><span class=p>,</span> <span class=n>bar</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;./moduleA&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=p>{</span> <span class=n>foo</span><span class=p>,</span> <span class=n>bar</span> <span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>Through these forms, we can flexibly organize and manage code modules. Each form has its applicable scenarios, and choosing the appropriate method can help us build a clearer and more efficient code structure.</p><h2 id=using-requirecontext>Using require.context</h2><p><code>require.context</code> is a very useful feature allowing us to dynamically import a set of modules without the need to explicitly import each one by one.</p><p>A single piece of code enables automatic collection and re-exporting simply by adding files or components.</p><p>It‚Äôs extremely useful in fixed scenarios such as project routing, state management, etc., (achieving efficiency, and avoiding the need to modify N files when adding a single configuration as much as possible)</p><p>Especially when configuring routes, it generates a large number of imports (as many pages as there are, that‚Äôs how many imports you must include)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>//</span> <span class=n>Without</span> <span class=n>using</span> <span class=n>require</span><span class=o>.</span><span class=n>context</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=n>A</span> <span class=n>from</span> <span class=s1>&#39;@/pages/A&#39;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=n>B</span> <span class=n>from</span> <span class=s1>&#39;@/pages/B&#39;</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>routes</span><span class=o>/</span><span class=n>index</span><span class=o>.</span><span class=n>ts</span> <span class=n>file</span> <span class=n>handles</span> <span class=n>everything</span> <span class=n>uniformly</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Create</span> <span class=n>a</span> <span class=n>context</span> <span class=n>to</span> <span class=n>import</span> <span class=n>all</span> <span class=o>.</span><span class=n>ts</span> <span class=n>files</span> <span class=n>under</span> <span class=n>the</span> <span class=n>routes</span> <span class=n>directory</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>routesContext</span> <span class=o>=</span> <span class=n>require</span><span class=o>.</span><span class=n>context</span><span class=p>(</span><span class=s1>&#39;./routes&#39;</span><span class=p>,</span> <span class=bp>false</span><span class=p>,</span> <span class=o>/.</span><span class=n>ts</span><span class=o>$/</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>routes</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Iterate</span> <span class=n>through</span> <span class=n>each</span> <span class=n>module</span> <span class=ow>in</span> <span class=n>the</span> <span class=n>context</span>
</span></span><span class=line><span class=cl><span class=n>routesContext</span><span class=o>.</span><span class=n>keys</span><span class=p>()</span><span class=o>.</span><span class=n>forEach</span><span class=p>(</span><span class=n>modulePath</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Get</span> <span class=n>the</span> <span class=n>module</span><span class=s1>&#39;s export</span>
</span></span><span class=line><span class=cl>  <span class=k>const</span> <span class=n>route</span> <span class=o>=</span> <span class=n>routesContext</span><span class=p>(</span><span class=n>modulePath</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Get</span> <span class=n>the</span> <span class=n>component</span> <span class=n>name</span> <span class=p>[</span><span class=k>if</span> <span class=n>needed</span><span class=p>],</span> <span class=k>for</span> <span class=n>example</span><span class=p>,</span> <span class=n>extract</span> <span class=s2>&#34;Header&#34;</span> <span class=n>from</span> <span class=s2>&#34;./Header.ts&#34;</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=k>const</span> <span class=n>routeName</span> <span class=o>=</span> <span class=n>modulePath</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=o>/^./</span><span class=p>(</span><span class=o>.*</span><span class=p>)</span><span class=o>.</span>\<span class=n>w</span><span class=o>+$/</span><span class=p>,</span> <span class=s1>&#39;$1&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Store</span> <span class=n>the</span> <span class=n>component</span> <span class=ow>in</span> <span class=n>the</span> <span class=n>components</span> <span class=n>object</span>
</span></span><span class=line><span class=cl>  <span class=n>routes</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=n>route</span><span class=o>.</span><span class=n>default</span> <span class=o>||</span> <span class=n>route</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=n>default</span> <span class=n>routes</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>In large projects with multiple routes, using require.context for routing importation can be very advantageous.</p><h2 id=using-dynamic-import>Using Dynamic Import</h2><p>Dynamic import can achieve functionality similar to require.context, dynamically collecting modules. Dynamic <code>import()</code> is part of the ES2020 specification and is widely supported by modern browsers. It allows developers to load modules on-demand during code execution. Unlike static imports (for example, using the import ‚Ä¶ from ‚Ä¶ syntax), dynamic import can be triggered at any point in time, providing great flexibility and efficiency for code splitting, on-demand loading, lazy loading, and conditional loading.</p><p>Usage:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>//</span> <span class=n>Assuming</span> <span class=n>we</span> <span class=n>dynamically</span> <span class=n>import</span> <span class=n>a</span> <span class=n>module</span>
</span></span><span class=line><span class=cl><span class=n>import</span><span class=p>(</span><span class=s1>&#39;path/module&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>then</span><span class=p>((</span><span class=n>module</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Use</span> <span class=n>the</span> <span class=n>module</span>
</span></span><span class=line><span class=cl><span class=p>})</span><span class=o>.</span><span class=n>catch</span><span class=p>(</span><span class=n>console</span><span class=o>.</span><span class=n>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>If</span> <span class=n>loading</span> <span class=n>the</span> <span class=n>module</span> <span class=n>fails</span><span class=p>,</span> <span class=n>it</span> <span class=n>can</span> <span class=n>be</span> <span class=n>handled</span> <span class=ow>in</span> <span class=n>the</span> <span class=n>catch</span><span class=o>.</span>
</span></span></code></pre></td></tr></table></div></div><p>The <code>import()</code> function returns a Promise, allowing the imported module to be used within the Promise‚Äôs then method. Unlike static imports, <code>import()</code> enables dynamic loading of modules, meaning modules can be loaded on-demand at runtime rather than all at once during the code loading phase.</p><p>Each time the <code>import()</code> function is invoked within a file, a new Promise is created. This Promise represents the process of loading and parsing the corresponding module, implying that each file gets a distinct module instance. However, in reality, the entire application only has a single instance of the module.js module.</p><p>This occurs because when the first file calls the <code>import()</code> function, it begins loading and parsing the module.js module. When the second file calls <code>import()</code>, since the module has already been loaded and parsed, it won‚Äôt load and parse again but rather returns the already loaded and parsed module instance. This means that if <code>import()</code> is called multiple times within an application to import the same module, only the first call will actually perform the loading and parsing operation; subsequent calls will simply return the cached module instance.</p><p>It‚Äôs important to note that since <code>import()</code> is asynchronous, the variables or functions exported by the module cannot be used until the module has finished loading. Therefore, when importing modules using <code>import()</code>, mechanisms such as Promises or async/await should be used to handle asynchronous operations.</p><p><strong>Note</strong>:</p><h3 id=1-relative-path-vs-absolute-path-vs-module-resolution>1. Relative Path vs Absolute Path vs Module Resolution</h3><p><strong>Relative Path</strong>: Paths starting with <code>.</code> or <code>..</code> are considered relative paths. <code>./</code> indicates the current directory, while <code>../</code> indicates the parent directory. When using relative paths, the imported module is resolved in relation to the location of the current file.</p><p><strong>Absolute Path</strong>: Paths not starting with <code>.</code> or <code>..</code> are considered absolute paths. In Node.js, an absolute path could be a path that starts from the project‚Äôs root directory, or a path to a module inside the node_modules directory.</p><p><strong>Module Resolution</strong></p><p>When the path starts with <code>./</code> or <code>../</code>, the JavaScript runtime (or bundling tools, such as Webpack, Vite, etc.) considers it a relative path relative to the current file and attempts to resolve the module under that path.
If the path does not start with <code>./</code>, <code>../</code>, or <code>/</code>, it is usually interpreted as a package name or built-in module, and the runtime will try to find the module in the node_modules directory or the corresponding built-in module library.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>//</span> <span class=n>Cannot</span> <span class=n>be</span> <span class=n>resolved</span> <span class=p>(</span><span class=n>treated</span> <span class=n>as</span> <span class=n>module</span> <span class=n>resolution</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>name</span> <span class=o>=</span> <span class=err>`</span><span class=o>$</span><span class=p>{</span><span class=n>filename</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=n>directoryPath</span> <span class=o>+</span> <span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=s1>&#39;./&#39;</span><span class=p>)}</span><span class=err>`</span>
</span></span><span class=line><span class=cl><span class=n>import</span><span class=p>(</span><span class=err>`</span><span class=o>$</span><span class=p>{</span><span class=n>name</span><span class=p>}</span><span class=err>`</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Can</span> <span class=n>be</span> <span class=n>resolved</span> <span class=p>(</span><span class=n>treated</span> <span class=n>as</span> <span class=n>a</span> <span class=n>relative</span> <span class=n>path</span> <span class=n>resolution</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>name</span> <span class=o>=</span> <span class=err>`</span><span class=o>$</span><span class=p>{</span><span class=n>filename</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=n>directoryPath</span> <span class=o>+</span> <span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)}</span><span class=err>`</span>
</span></span><span class=line><span class=cl><span class=n>import</span><span class=p>(</span><span class=err>`</span><span class=o>./$</span><span class=p>{</span><span class=n>name</span><span class=p>}</span><span class=err>`</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=2-characteristics-of-dynamic-import>2. Characteristics of Dynamic import()</h3><p>When using dynamic <code>import()</code> to import a module, if it does not start with <code>./</code> or <code>../</code>, the JavaScript runtime might attempt to treat it as a package or built-in module, rather than a relative path relative to the current file. This is usually not the desired behavior, especially when you are trying to dynamically import a module located in the same directory as the current file.</p><h2 id=using-provideplugin>Using ProvidePlugin</h2><p><code>webpack.ProvidePlugin</code> is a powerful tool but shouldn‚Äôt be overused.</p><p>Variables/functions/libraries or tools used in the project can be utilized anywhere once configured.</p><p>Trust me ‚Äî after seeing this example, if you haven‚Äôt used it, you‚Äôll definitely be eager to try it out</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>const</span> <span class=n>webpack</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s1>&#39;webpack&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>module</span><span class=o>.</span><span class=n>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Other</span> <span class=n>configurations</span><span class=o>...</span>
</span></span><span class=line><span class=cl>  <span class=n>plugins</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=n>new</span> <span class=n>webpack</span><span class=o>.</span><span class=n>ProvidePlugin</span><span class=p>({</span>
</span></span><span class=line><span class=cl>      <span class=n>React</span><span class=p>:</span> <span class=s1>&#39;react&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>_</span><span class=p>:</span> <span class=s1>&#39;lodash&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>dayjs</span><span class=p>:</span> <span class=s1>&#39;dayjs&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=o>//</span> <span class=n>Suppose</span> <span class=n>the</span> <span class=bp>self</span><span class=o>-</span><span class=n>defined</span> <span class=n>utils</span><span class=o>.</span><span class=n>js</span> <span class=n>is</span> <span class=n>under</span> <span class=n>the</span> <span class=n>src</span> <span class=n>directory</span>
</span></span><span class=line><span class=cl>      <span class=n>Utils</span><span class=p>:</span> <span class=n>path</span><span class=o>.</span><span class=n>resolve</span><span class=p>(</span><span class=n>__dirname</span><span class=p>,</span> <span class=s1>&#39;src/utils.js&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Other</span> <span class=n>configurations</span><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>Now you can use dayjs, lodash, Utils, etc., anywhere without needing to import them.</p><p>In summary:</p><ul><li><p><code>webpack.ProvidePlugin</code> is a powerful tool that can help reduce redundant import statements, making the code cleaner and neater. However, it doesn‚Äôt reduce the build size since these libraries will still be included in your final bundle. Properly using this plugin can improve development efficiency, but it should be used cautiously to avoid hiding dependencies that make the code hard to understand and maintain.</p></li><li><p>For modules or components that need to be loaded on-demand, consider using the dynamic <code>import()</code> syntax, allowing for more effective control of the code‚Äôs loading time and reducing the bundle size.</p></li><li><p>Use ProvidePlugin with caution, only configure global variables for modules that truly need to be used in multiple places, to avoid unnecessary code bundling.</p></li></ul><p>Additionally, if it‚Äôs a Vite project, you can use <code>vite-plugin-inject</code> to replace the functionality of <code>ProvidePlugin</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>//</span> <span class=n>Configuration</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=n>inject</span> <span class=n>from</span> <span class=s1>&#39;vite-plugin-inject&#39;</span><span class=p>;</span> <span class=o>//</span> <span class=n>Currently</span> <span class=n>unavailable</span><span class=p>,</span> <span class=n>will</span> <span class=n>update</span> <span class=n>with</span> <span class=n>an</span> <span class=n>alternative</span> <span class=n>solution</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=n>plugins</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=n>inject</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>The</span> <span class=n>key</span> <span class=n>is</span> <span class=n>the</span> <span class=n>global</span> <span class=n>variable</span> <span class=n>you</span> <span class=n>want</span> <span class=n>to</span> <span class=n>provide</span><span class=p>,</span> <span class=n>the</span> <span class=n>value</span> <span class=n>is</span> <span class=n>the</span> <span class=n>module</span> <span class=n>you</span><span class=s1>&#39;re providing</span>
</span></span><span class=line><span class=cl>    <span class=n>dayjs</span><span class=p>:</span> <span class=s1>&#39;dayjs&#39;</span><span class=p>,</span> <span class=o>//</span> <span class=n>For</span> <span class=n>example</span><span class=p>,</span> <span class=n>this</span> <span class=n>will</span> <span class=n>provide</span> <span class=s1>&#39;dayjs&#39;</span> <span class=n>globally</span><span class=p>,</span> <span class=n>accessible</span> <span class=n>via</span> <span class=n>dayjs</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>You</span> <span class=n>can</span> <span class=k>continue</span> <span class=n>adding</span> <span class=n>other</span> <span class=n>modules</span> <span class=n>you</span> <span class=n>want</span> <span class=n>to</span> <span class=n>provide</span> <span class=n>globally</span>
</span></span><span class=line><span class=cl>  <span class=p>}),</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span></code></pre></td></tr></table></div></div><p>If you‚Äôre using TS, remember to configure the types:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>//</span> <span class=n>globals</span><span class=o>.</span><span class=n>d</span><span class=o>.</span><span class=n>ts</span> <span class=n>file</span> <span class=k>for</span> <span class=n>handling</span> <span class=n>global</span> <span class=n>types</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=n>dayjs</span> <span class=n>from</span> <span class=s1>&#39;dayjs&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>declare</span> <span class=n>global</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>const</span> <span class=n>dayjs</span><span class=p>:</span> <span class=nb>typeof</span> <span class=n>dayjs</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Also</span> <span class=n>configure</span> <span class=n>the</span> <span class=n>tsconfig</span><span class=o>.</span><span class=n>json</span> <span class=n>file</span>
</span></span><span class=line><span class=cl><span class=p>{</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;compilerOptions&#34;</span><span class=p>:</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Compilation</span> <span class=n>options</span><span class=o>...</span> 
</span></span><span class=line><span class=cl>  <span class=p>},</span> 
</span></span><span class=line><span class=cl>  <span class=s2>&#34;include&#34;</span><span class=p>:</span> <span class=p>[</span> <span class=s2>&#34;src/**/*&#34;</span><span class=p>,</span> <span class=s2>&#34;globals.d.ts&#34;</span> <span class=o>//</span> <span class=n>Ensure</span> <span class=n>TypeScript</span> <span class=n>includes</span> <span class=n>this</span> <span class=n>file</span> <span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=using-typescript-to-import-types>Using TypeScript to Import Types</h2><p>In a TS project, imports are inevitable, including those of TypeScript. However, if configured properly, the need for imports can be significantly reduced.</p><p>Here, I‚Äôll introduce the method I use most frequently in my projects: TypeScript namespaces. With it, types can be modularized, and even more incredibly, types can be used directly without import.</p><p>Similarly, it eliminates the need for import imports just like ProvidePlugin does.</p><p>Usage example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>//</span> <span class=n>accout</span><span class=o>.</span><span class=n>ts</span>
</span></span><span class=line><span class=cl><span class=n>declare</span> <span class=n>namespace</span> <span class=n>IAccount</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>type</span> <span class=n>IList</span><span class=o>&lt;</span><span class=n>T</span> <span class=o>=</span> <span class=n>IItem</span><span class=o>&gt;</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>count</span><span class=p>:</span> <span class=n>number</span>
</span></span><span class=line><span class=cl>    <span class=n>list</span><span class=p>:</span> <span class=n>T</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>interface</span> <span class=n>IUser</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>id</span><span class=p>:</span> <span class=n>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span><span class=p>:</span> <span class=n>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>avatar</span><span class=p>:</span> <span class=n>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Directly</span> <span class=n>use</span> <span class=ow>in</span> <span class=n>any</span> <span class=n>file</span><span class=p>,</span> <span class=n>no</span> <span class=n>need</span> <span class=n>to</span> <span class=n>import</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=p>[</span><span class=n>list</span><span class=p>,</span> <span class=n>setList</span><span class=p>]</span> <span class=o>=</span> <span class=n>useState</span><span class=o>&lt;</span><span class=n>IAccount</span><span class=o>.</span><span class=n>IList</span><span class=o>|</span><span class=n>undefined</span><span class=o>&gt;</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=p>[</span><span class=n>user</span><span class=p>,</span> <span class=n>setUser</span><span class=p>]</span> <span class=o>=</span> <span class=n>useState</span><span class=o>&lt;</span><span class=n>IAccount</span><span class=o>.</span><span class=n>IUser</span><span class=o>|</span><span class=n>undefined</span><span class=o>&gt;</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><p>Note: eslint might need to be configured to enable the use of namespaces.</p><h2 id=other>Other</h2><h3 id=1-setting-webpack-and-ts-aliases>1. Setting webpack and ts aliases</h3><p>It can both shorten the import path and make it more semantically meaningful.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>resolve: {
</span></span><span class=line><span class=cl>  alias: {
</span></span><span class=line><span class=cl>    &#34;@src&#34;: path.resolve(__dirname, &#39;src/&#39;),
</span></span><span class=line><span class=cl>    &#34;@components&#34;: path.resolve(__dirname, &#39;src/components/&#39;),
</span></span><span class=line><span class=cl>    &#34;@utils&#34;: path.resolve(__dirname, &#39;src/utils/&#39;)
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// Before using alias
</span></span><span class=line><span class=cl>import MyComponent from &#39;../../../../components/MyComponent&#39;;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// After using alias
</span></span><span class=line><span class=cl>import MyComponent from &#39;@components/MyComponent&#39;;
</span></span></code></pre></td></tr></table></div></div><h3 id=2-setting-the-format-of-prettierprintwidth>2. Setting the format of prettier.printWidth</h3><p>A too small value might cause frequent line breaks, making it difficult to read. A value of 120 seems more suitable (based on the actual usage of the team).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>  &#34;printWidth&#34;: 120,
</span></span><span class=line><span class=cl>  ...
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><h3 id=3-dynamically-loading-components-globally-based-on-conditions>3. Dynamically loading components globally based on conditions</h3><p>Import global components in the entry file, using require.ensure or import to dynamically load components based on conditions, which facilitates maintenance, reduces references, and decreases performance overhead.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>//</span> <span class=n>Asynchronously</span> <span class=nb>load</span> <span class=n>global</span> <span class=n>dialogs</span> <span class=n>to</span> <span class=n>reduce</span> <span class=n>performance</span> <span class=n>overhead</span>
</span></span><span class=line><span class=cl><span class=n>Vue</span><span class=o>.</span><span class=n>component</span><span class=p>(</span><span class=s1>&#39;IMessage&#39;</span><span class=p>,</span> <span class=n>function</span> <span class=p>(</span><span class=n>resolve</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Specify</span> <span class=n>conditions</span> <span class=k>for</span> <span class=n>global</span> <span class=n>loading</span><span class=p>,</span> <span class=n>no</span> <span class=n>need</span> <span class=n>to</span> <span class=n>reference</span> <span class=ow>in</span> <span class=n>specific</span> <span class=n>pages</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>/^</span>\<span class=o>/</span><span class=n>pagea</span><span class=o>|</span><span class=n>pageb</span><span class=o>/.</span><span class=n>test</span><span class=p>(</span><span class=n>location</span><span class=o>.</span><span class=n>pathname</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>require</span><span class=o>.</span><span class=n>ensure</span><span class=p>([</span><span class=s1>&#39;./components/message/index.vue&#39;</span><span class=p>],</span> <span class=n>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>resolve</span><span class=p>(</span><span class=n>require</span><span class=p>(</span><span class=s1>&#39;./components/message/index.vue&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=4-using-babel-plugin-import>4. Using babel-plugin-import</h3><p><code>babel-plugin-import</code> doesn‚Äôt directly reduce the number of imports, but optimizes import statements to reduce the bundle size and improve the project‚Äôs loading performance. This is a very valuable optimization for projects that use large third-party libraries.</p><p>Taking arco-design as an example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>//</span> <span class=o>.</span><span class=n>babelrc</span> <span class=n>configuration</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;plugins&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=s2>&#34;import&#34;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;libraryName&#34;</span><span class=p>:</span> <span class=s2>&#34;@arco-design/web-react&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;libraryDirectory&#34;</span><span class=p>:</span> <span class=s2>&#34;es&#34;</span><span class=p>,</span> <span class=o>//</span> <span class=ow>or</span> <span class=s2>&#34;lib&#34;</span><span class=p>,</span> <span class=n>depending</span> <span class=n>on</span> <span class=n>the</span> <span class=n>module</span> <span class=n>system</span> <span class=n>used</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;style&#34;</span><span class=p>:</span> <span class=bp>true</span> <span class=o>//</span> <span class=n>Load</span> <span class=n>CSS</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=s2>&#34;@arco-design/web-react&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>This</span> <span class=n>configuration</span> <span class=n>tells</span> <span class=n>babel</span><span class=o>-</span><span class=n>plugin</span><span class=o>-</span><span class=n>import</span> <span class=n>to</span> <span class=n>automatically</span> <span class=n>transform</span> <span class=n>import</span> <span class=n>statements</span> <span class=n>like</span> <span class=n>import</span> <span class=p>{</span> <span class=ne>Button</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;@arco-design/web-react&#39;</span><span class=p>;</span> <span class=n>into</span> <span class=n>an</span> <span class=n>on</span><span class=o>-</span><span class=n>demand</span> <span class=n>import</span> <span class=n>form</span><span class=p>,</span> <span class=ow>and</span> <span class=n>to</span> <span class=nb>load</span> <span class=n>the</span> <span class=n>corresponding</span> <span class=n>CSS</span> <span class=n>file</span><span class=o>.</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Use in business
</span></span><span class=line><span class=cl>import { Button } from &#39;@arco-design/web-react&#39;;
</span></span><span class=line><span class=cl>// Will be compiled by babel into
</span></span><span class=line><span class=cl>import Button from &#39;@arco-design/web-react/es/button&#39;;
</span></span><span class=line><span class=cl>// If style is set to true
</span></span><span class=line><span class=cl>import &#39;@arco-design/web-react/es/button/style/css.js&#39;;
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-tags><a href=/tags/code/>Code</a>
<a href=/tags/javascript/>Javascript</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/advanced-usage-of-reduce-you-might-not-know/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h7QTz6KqyeYG_ausGQjj5g.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h7QTz6KqyeYG_ausGQjj5g.jpeg></div><div class=article-details><h2 class=article-title>Advanced Usage of Reduce You Might Not Know</h2></div></a></article><article class=has-image><a href=/p/vue3-performance-optimization-code-level-optimization/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZsES-HkGUvu6TkmfmNMBA.png loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZsES-HkGUvu6TkmfmNMBA.png></div><div class=article-details><h2 class=article-title>Vue3 Performance Optimization ‚Äî Code-Level Optimization</h2></div></a></article><article class=has-image><a href=/p/vue3-performance-optimization-bundle-optimization/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZsES-HkGUvu6TkmfmNMBA.png loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZsES-HkGUvu6TkmfmNMBA.png></div><div class=article-details><h2 class=article-title>Vue3 Performance Optimization ‚Äî Bundle Optimization</h2></div></a></article><article class=has-image><a href=/p/how-much-do-you-know-about-29-javascript-object-methods/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l_w8hkehf25Nx3H_AzEVbQ.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l_w8hkehf25Nx3H_AzEVbQ.jpeg></div><div class=article-details><h2 class=article-title>How Much Do You Know About 29 JavaScript Object Methods?</h2></div></a></article><article class=has-image><a href=/p/most-of-the-books-youve-read-are-mostly-forgotten-so-why-keep-reading/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zm-09l_F3UwVf2IneHGHew.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zm-09l_F3UwVf2IneHGHew.jpeg></div><div class=article-details><h2 class=article-title>Most of the books you‚Äôve read are mostly forgotten, so why keep reading?</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=kxming/skstory data-repo-id=R_kgDOLehX4A data-category=Announcements data-category-id=DIC_kwDOLehX4M4Cd4Vx data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en-us data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2024 SK Story</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>