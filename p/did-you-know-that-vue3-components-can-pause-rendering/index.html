<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Introduction Sometimes we want to render a component only after fetching data from the server. Here are some methods to achieve this:\nRequest data in the parent component and use v-if to render the child component only after receiving the data, passing it via props.\nRequest data in the onMounted lifecycle of the child component and use v-if in the template to control rendering.\nBoth methods have drawbacks. The ideal solution is to handle data fetching inside the child component and ‚Äúpause‚Äù rendering until the data is ready.\n"><title>Did you know that Vue3 Components Can ‚ÄúPause‚Äù RenderingÔºü</title>
<link rel=canonical href=https://www.skstory.online/p/did-you-know-that-vue3-components-can-pause-rendering/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Did you know that Vue3 Components Can ‚ÄúPause‚Äù RenderingÔºü"><meta property='og:description' content="Introduction Sometimes we want to render a component only after fetching data from the server. Here are some methods to achieve this:\nRequest data in the parent component and use v-if to render the child component only after receiving the data, passing it via props.\nRequest data in the onMounted lifecycle of the child component and use v-if in the template to control rendering.\nBoth methods have drawbacks. The ideal solution is to handle data fetching inside the child component and ‚Äúpause‚Äù rendering until the data is ready.\n"><meta property='og:url' content='https://www.skstory.online/p/did-you-know-that-vue3-components-can-pause-rendering/'><meta property='og:site_name' content='SK Story'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Story'><meta property='article:tag' content='Fiction'><meta property='article:tag' content='Life'><meta property='article:published_time' content='2024-09-10T16:02:05+08:00'><meta property='article:modified_time' content='2024-09-10T16:02:05+08:00'><meta property='og:image' content='https://miro.medium.com/v2/resize:fit:1400/format:webp/0*u0epgmNovwsaszzN.png'><meta name=twitter:site content="@https://twitter.com/ShawnKxming"><meta name=twitter:creator content="@https://twitter.com/ShawnKxming"><meta name=twitter:title content="Did you know that Vue3 Components Can ‚ÄúPause‚Äù RenderingÔºü"><meta name=twitter:description content="Introduction Sometimes we want to render a component only after fetching data from the server. Here are some methods to achieve this:\nRequest data in the parent component and use v-if to render the child component only after receiving the data, passing it via props.\nRequest data in the onMounted lifecycle of the child component and use v-if in the template to control rendering.\nBoth methods have drawbacks. The ideal solution is to handle data fetching inside the child component and ‚Äúpause‚Äù rendering until the data is ready.\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://miro.medium.com/v2/resize:fit:1400/format:webp/0*u0epgmNovwsaszzN.png'><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu1157332405703967761.jpeg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üç•</span></figure><div class=site-meta><h1 class=site-name><a href=/>SK Story</a></h1><h2 class=site-description>Shawn King's Stories Website</h2></div></header><ol class=menu-social><li><a href=mailto:kxming0229@gmail.com target=_blank title=Email rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=https://www.facebook.com/p/King-Shawn-100092679065959/ target=_blank title=Facebook rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-facebook"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 10v4h3v7h4v-7h3l1-4h-4V8a1 1 0 011-1h3V3h-3a5 5 0 00-5 5v2H7"/></svg></a></li><li><a href=https://twitter.com/ShawnKxming target=_blank title=Twitter rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4l11.733 16H20L8.267 4z"/><path d="M4 20l6.768-6.768m2.46-2.46L20 4"/></svg></a></li><li><a href=https://t.me/shawnkxming target=_blank title=Telegram rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-telegram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4 6 6 4-16-18 7 4 2 2 6 3-4"/></svg></a></li><li><a href=https://medium.com/@kxming target=_blank title=Medium rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-medium"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4m0 2a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2z"/><path d="M8 9h1l3 3 3-3h1"/><path d="M8 15h2"/><path d="M14 15h2"/><path d="M9 9v6"/><path d="M15 9v6"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#introduction>Introduction</a></li><li><a href=#example>Example</a><ol><li><a href=#data-request-in-parent-component>Data Request in Parent Component</a></li><li><a href=#data-request-in-child-components-onmounted>Data Request in Child Component‚Äôs onMounted</a></li></ol></li><li><a href=#solution>Solution</a></li><li><a href=#principle>Principle</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/did-you-know-that-vue3-components-can-pause-rendering/><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*u0epgmNovwsaszzN.png loading=lazy alt="Featured image of post Did you know that Vue3 Components Can ‚ÄúPause‚Äù RenderingÔºü"></a></div><div class=article-details><header class=article-category><a href=/categories/story/>Story
</a><a href=/categories/fiction/ style=background-color:#2a849d;color:#fff>Fiction
</a><a href=/categories/life/>Life</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/did-you-know-that-vue3-components-can-pause-rendering/>Did you know that Vue3 Components Can ‚ÄúPause‚Äù RenderingÔºü</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Sep 10, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>8 minute read</time></div></footer></div></header><section class=article-content><h2 id=introduction>Introduction</h2><p>Sometimes we want to render a component only after fetching data from the server. Here are some methods to achieve this:</p><ul><li><p>Request data in the parent component and use <code>v-if</code> to render the child component only after receiving the data, passing it via props.</p></li><li><p>Request data in the <code>onMounted</code> lifecycle of the child component and use <code>v-if</code> in the template to control rendering.</p></li></ul><p>Both methods have drawbacks. The ideal solution is to handle data fetching inside the child component and ‚Äúpause‚Äù rendering until the data is ready.</p><h2 id=example>Example</h2><h3 id=data-request-in-parent-component>Data Request in Parent Component</h3><p>Father:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&lt;</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>Child</span> <span class=n>v</span><span class=o>-</span><span class=k>if</span><span class=o>=</span><span class=s2>&#34;user&#34;</span> <span class=p>:</span><span class=n>user</span><span class=o>=</span><span class=s2>&#34;user&#34;</span> <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>div</span> <span class=n>v</span><span class=o>-</span><span class=k>else</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>p</span><span class=o>&gt;</span><span class=n>loading</span><span class=o>...&lt;/</span><span class=n>p</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;/</span><span class=n>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>script</span> <span class=n>setup</span> <span class=n>lang</span><span class=o>=</span><span class=s2>&#34;ts&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>ref</span><span class=p>,</span> <span class=n>onMounted</span> <span class=p>}</span> <span class=n>from</span> <span class=s2>&#34;vue&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=n>Child</span> <span class=n>from</span> <span class=s2>&#34;./Child.vue&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>user</span> <span class=o>=</span> <span class=n>ref</span><span class=p>(</span><span class=n>null</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>async</span> <span class=n>function</span> <span class=n>fetchUser</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>new</span> <span class=n>Promise</span><span class=p>((</span><span class=n>resolve</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>setTimeout</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>resolve</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=n>name</span><span class=p>:</span> <span class=s2>&#34;John&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>phone</span><span class=p>:</span> <span class=s2>&#34;xxxxxxxxxx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=mi>2000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>onMounted</span><span class=p>(</span><span class=n>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>user</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>await</span> <span class=n>fetchUser</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>script</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Child:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&lt;</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>p</span><span class=o>&gt;</span><span class=n>userName</span><span class=err>Ôºö</span><span class=p>{{</span> <span class=n>user</span><span class=o>.</span><span class=n>name</span> <span class=p>}}</span><span class=o>&lt;/</span><span class=n>p</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>p</span><span class=o>&gt;</span><span class=n>phone</span><span class=err>Ôºö</span><span class=p>{{</span> <span class=n>user</span><span class=o>.</span><span class=n>phone</span> <span class=p>}}</span><span class=o>&lt;/</span><span class=n>p</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;/</span><span class=n>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>script</span> <span class=n>setup</span> <span class=n>lang</span><span class=o>=</span><span class=s2>&#34;ts&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>props</span> <span class=o>=</span> <span class=n>defineProps</span><span class=p>([</span><span class=s2>&#34;user&#34;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>script</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>This method involves fetching <code>user</code> data in the parent component and passing it to the child, showing a loading message in the meantime. However, it places the data-fetching logic in the parent component, which isn&rsquo;t ideal.</p><h3 id=data-request-in-child-components-onmounted>Data Request in Child Component‚Äôs onMounted</h3><p>Father:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&lt;template&gt;
</span></span><span class=line><span class=cl>  &lt;Child /&gt;
</span></span><span class=line><span class=cl>&lt;/template&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;script setup lang=&#34;ts&#34;&gt;
</span></span><span class=line><span class=cl>import Child from &#34;./Child.vue&#34;;
</span></span><span class=line><span class=cl>&lt;/script&gt;
</span></span></code></pre></td></tr></table></div></div><p>Child:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>div</span> <span class=n>v</span><span class=o>-</span><span class=k>if</span><span class=o>=</span><span class=s2>&#34;user&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>p</span><span class=o>&gt;</span><span class=n>userName</span><span class=err>Ôºö</span><span class=p>{{</span> <span class=n>user</span><span class=o>.</span><span class=n>name</span> <span class=p>}}</span><span class=o>&lt;/</span><span class=n>p</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>p</span><span class=o>&gt;</span><span class=n>phone</span><span class=err>Ôºö</span><span class=p>{{</span> <span class=n>user</span><span class=o>.</span><span class=n>phone</span> <span class=p>}}</span><span class=o>&lt;/</span><span class=n>p</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;/</span><span class=n>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>div</span> <span class=n>v</span><span class=o>-</span><span class=k>else</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>p</span><span class=o>&gt;</span><span class=n>loading</span><span class=o>...&lt;/</span><span class=n>p</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;/</span><span class=n>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>script</span> <span class=n>setup</span> <span class=n>lang</span><span class=o>=</span><span class=s2>&#34;ts&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>ref</span><span class=p>,</span> <span class=n>onMounted</span> <span class=p>}</span> <span class=n>from</span> <span class=s2>&#34;vue&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>user</span> <span class=o>=</span> <span class=n>ref</span><span class=p>(</span><span class=n>null</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>async</span> <span class=n>function</span> <span class=n>fetchUser</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Simulate</span> <span class=n>data</span> <span class=n>fetching</span> <span class=n>from</span> <span class=n>the</span> <span class=n>server</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>new</span> <span class=n>Promise</span><span class=p>((</span><span class=n>resolve</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>setTimeout</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>resolve</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=n>name</span><span class=p>:</span> <span class=s2>&#34;Jhon&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>phone</span><span class=p>:</span> <span class=s2>&#34;xxxxxxxxxx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=mi>2000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>onMounted</span><span class=p>(</span><span class=n>async</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>user</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>await</span> <span class=n>fetchUser</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>script</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>We placed the data request in <code>onMounted</code>, which triggers the first rendering of the child component during initialization. At this point, <code>user</code> is still <code>null</code>, so we have to use <code>v-if="user"</code> in the template to prevent displaying the child component&rsquo;s content and render a <code>loading</code> message with <code>v-else</code>.</p><p>When data is retrieved from the server and the reactive variable <code>user</code> is reassigned, it triggers a page re-render. This leads to a second rendering where the child component&rsquo;s content is displayed.</p><p>As seen above, this approach causes the child component to render twice. Additionally, placing the <code>loading</code> logic inside the child component increases its complexity. Thus, this approach is not ideal.</p><p>The perfect solution is to ‚Äúpause‚Äù rendering of the child component during <code>fetchUser</code>, using <code>fallback</code> to display a loading page. This <code>loading</code> logic doesn&rsquo;t need to be inside the child component‚Äîit appears automatically during the &ldquo;paused&rdquo; period. Once the server data request is complete, the child component begins to render, and the <code>loading</code> page is automatically removed.</p><h2 id=solution>Solution</h2><p>The first method‚Äôs drawback is that the child component only renders after receiving data, but the data request logic is placed in the parent component. Ideally, all logic should be encapsulated within the child component.</p><p>The second method‚Äôs drawback is that the child component actually renders once during initialization before data is retrieved from the server. We have to control this with <code>v-if</code> in the template to prevent rendering the child component&rsquo;s content. After receiving data from the server, the child component renders a second time, displaying its content. This approach clearly renders the child component twice.</p><p>Is there a perfect solution where the data retrieval logic is inside the child component, and rendering is ‚Äúpaused‚Äù until the data request completes?</p><p>The answer is yes! Vue 3‚Äôs <code>Suspense</code> component combined with using <code>await</code> at the top level of <code>setup</code> can perfectly fulfill this requirement!</p><p>Here‚Äôs the official introduction to Suspense:</p><blockquote><p><code>&lt;Suspense></code> is a built-in component that coordinates the handling of async dependencies in the component tree. It allows us to wait for multiple nested async dependencies to resolve and render a loading state while waiting.</p></blockquote><p>For more on using Suspense, check out this <a class=link href=https://medium.com/stackademic/understanding-suspense-in-vue3-af0dd74f04c9 target=_blank rel=noopener>article</a>.</p><p>The <code>Suspense</code> component supports two slots: <code>#default</code> and <code>#fallback</code>. If the <code>#default</code> slot contains async components, it first renders the content in <code>#fallback</code>. Once the async component loads, it replaces the <code>#fallback</code> content with the async component&rsquo;s content.</p><p>If our child component is async, <code>Suspense</code> can help us achieve the desired functionality.</p><p><code>Suspense</code> can automatically render a <code>loading</code> state using the <code>#fallback</code> slot during the loading of async child components. Once the async component loads, it renders the child component&rsquo;s content for the first time.</p><p>In this case, the problem is how to turn our child component into an asynchronous component?</p><p>The answer is already given by Vue‚Äôs official documentation. If a component uses <code>await</code> at its top level in <code>&lt;script setup></code>, it will become an asynchronous component. We simply need to use <code>await</code> in the top level of our child component to request data from the server.</p><p>Here‚Äôs what the transformed code looks like:</p><p>Father:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&lt;</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>Suspense</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>AsyncChild</span> <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>template</span> <span class=c1>#fallback&gt;loading...&lt;/template&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;/</span><span class=n>Suspense</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>script</span> <span class=n>setup</span> <span class=n>lang</span><span class=o>=</span><span class=s2>&#34;ts&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=n>AsyncChild</span> <span class=n>from</span> <span class=s2>&#34;./AsyncChild.vue&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>script</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>The <code>Suspense</code> component is used in the parent component, passing 2 slots to this component. The <code>#default</code> slot is for the asynchronous child component AsyncChild, the default slot can be used without adding <code>#default</code> to the top of the element.</p><p>And with the <code>#fallback</code> slot, the asynchronous child component AsyncChild will not be rendered first during the asynchronous child component loading process. Instead, the <code>loading</code> in the <code>#fallback</code> slot will be rendered first, and then the <code>loading</code> will be automatically replaced with the content of the child when the asynchronous child finishes loading.</p><p>Child:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&lt;</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>p</span><span class=o>&gt;</span><span class=n>userName</span><span class=err>Ôºö</span><span class=p>{{</span> <span class=n>user</span><span class=o>.</span><span class=n>name</span> <span class=p>}}</span><span class=o>&lt;/</span><span class=n>p</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>p</span><span class=o>&gt;</span><span class=n>phone</span><span class=err>Ôºö</span><span class=p>{{</span> <span class=n>user</span><span class=o>.</span><span class=n>phone</span> <span class=p>}}</span><span class=o>&lt;/</span><span class=n>p</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;/</span><span class=n>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>script</span> <span class=n>setup</span> <span class=n>lang</span><span class=o>=</span><span class=s2>&#34;ts&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>ref</span> <span class=p>}</span> <span class=n>from</span> <span class=s2>&#34;vue&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>user</span> <span class=o>=</span> <span class=n>ref</span><span class=p>(</span><span class=n>null</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>user</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>await</span> <span class=n>fetchUser</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>async</span> <span class=n>function</span> <span class=n>fetchUser</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Simulate</span> <span class=n>data</span> <span class=n>fetching</span> <span class=n>from</span> <span class=n>the</span> <span class=n>server</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>new</span> <span class=n>Promise</span><span class=p>((</span><span class=n>resolve</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>setTimeout</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>resolve</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=n>name</span><span class=p>:</span> <span class=s2>&#34;Jhon&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>phone</span><span class=p>:</span> <span class=s2>&#34;xxxxxxxxxx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=mi>2000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>script</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>We use <code>await</code> in the top level of <code>&lt;script setup></code> and then assign the value obtained by <code>await</code> to the user variable. After using <code>await</code> at the top level, the child component becomes an asynchronous component and is loaded only after <code>await fetchUser()</code> is executed, i.e., after getting the data from the server.</p><p>And since we use <code>Suspense</code> in the parent component, we don&rsquo;t render the child component until it&rsquo;s loaded, i.e., until we get the data from the server (which is equivalent to ‚Äúpausing‚Äù the rendering of the child component). Instead, it renders the <code>loading</code> in the <code>#fallback</code> slot, and waits until it gets the data from the server before the asynchronous subcomponent is loaded. Only then will the subcomponent be rendered for the first time, and the <code>loading</code> will be replaced with the rendered content of the subcomponent.</p><p>Since we got the value of <code>user</code> from the server the first time we rendered the subcomponent, <code>user</code> is no longer <code>null</code>, so we don&rsquo;t have to use <code>v-if=‚Äúuser‚Äù</code> at the top of the template, even though we have to read <code>user.name</code> in the <code>template</code>.</p><p>After the <code>Suspense</code> + top-level <code>await</code> modification, when rendering the parent&rsquo;s <code>Suspense</code> and finding out that its child has an asynchronous component, the rendering of the child will be ‚Äúpaused‚Äù and the <code>loading</code> component will be rendered automatically instead.</p><p>The child component uses <code>await</code> at the top level of <code>setup</code> to wait for the data request from the server, when the data is gotten from the server then the child component is considered to be loaded, then the first rendering will be done, and the content of loading will be replaced by the content rendered in the child component automatically.</p><p>And <code>Suspense</code> also supports multiple asynchronous sub-components to get data from the server, when these asynchronous sub-components all get data from the server, then it will automatically replace the <code>loading</code> with the content rendered by these asynchronous sub-components.</p><p>The <code>Suspense</code> component is still experimental and should be used with caution in production environments, but Nuxt3 is already using Suspense internally.</p><h2 id=principle>Principle</h2><p>When rendering a subcomponent, <code>Suspense</code> does not immediately execute the <code>render</code> function of the asynchronous subcomponent when it realizes that the subcomponent is an asynchronous component. Instead, it adds a flag called <code>deps</code> to indicate that the default subcomponent is currently an asynchronous component, and pauses rendering the asynchronous subcomponent.</p><p>Since the asynchronous subcomponent is a Promise, you can add the <code>.then()</code> method after loading the Promise of the asynchronous subcomponent, and only in the <code>.then()</code> method will you go ahead and continue rendering the asynchronous subcomponent.</p><p>Currently the asynchronous subcomponent has paused rendering, and then it will go and read the <code>deps</code> token. If the <code>deps</code> flag is <code>true</code>, the asynchronous subcomponent has paused rendering, and the <code>loading</code> component in the <code>fallback</code> slot will be rendered to the page.</p><p>When the asynchronous subcomponent finishes loading it triggers the <code>.then()</code> method of the Promise, which continues rendering the asynchronous subcomponent. The <code>.then()</code> method executes the <code>render</code> function of the asynchronous subcomponent to generate the virtual DOM, and then generates the real DOM based on the virtual DOM, and finally replaces the content of the <code>fallback</code> slot that was rendered on the page with the content of the real DOM generated by the asynchronous component.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/story/>Story</a>
<a href=/tags/fiction/>Fiction</a>
<a href=/tags/life/>Life</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/recording-my-current-mac-applications/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Ie5puTXFNbSKEZ61ibY6A.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Ie5puTXFNbSKEZ61ibY6A.jpeg></div><div class=article-details><h2 class=article-title>Recording My Current Mac Applications</h2></div></a></article><article class=has-image><a href=/p/jumping-out-of-nested-loops-in-javascript/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Ie5puTXFNbSKEZ61ibY6A.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Ie5puTXFNbSKEZ61ibY6A.jpeg></div><div class=article-details><h2 class=article-title>Jumping Out of Nested Loops in JavaScript</h2></div></a></article><article class=has-image><a href=/p/exploring-the-difference-between-width-100-and-width-auto/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6aTlWcQeK-86tPxH.png loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6aTlWcQeK-86tPxH.png></div><div class=article-details><h2 class=article-title>Exploring the Difference Between width: 100% and width: auto</h2></div></a></article><article class=has-image><a href=/p/understanding-useid-in-vue3/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6aTlWcQeK-86tPxH.png loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6aTlWcQeK-86tPxH.png></div><div class=article-details><h2 class=article-title>Understanding useId in Vue3</h2></div></a></article><article class=has-image><a href=/p/12-vue-3-backend-management-templates-to-bookmark-and-learn/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u483g0dL7NmbtDvGH817bg.png loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u483g0dL7NmbtDvGH817bg.png></div><div class=article-details><h2 class=article-title>12 Vue 3 Backend Management Templates to Bookmark and Learn</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=kxming/skstory data-repo-id=R_kgDOLehX4A data-category=Announcements data-category-id=DIC_kwDOLehX4M4Cd4Vx data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en-us data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2024 SK Story</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>