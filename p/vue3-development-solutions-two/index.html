<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Vue3 Development Solutions2"><title>Vue3 Development Solutions Two</title>
<link rel=canonical href=https://www.skstory.online/p/vue3-development-solutions-two/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Vue3 Development Solutions Two"><meta property='og:description' content="Vue3 Development Solutions2"><meta property='og:url' content='https://www.skstory.online/p/vue3-development-solutions-two/'><meta property='og:site_name' content='SK Story'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Javascript'><meta property='article:tag' content='Vue'><meta property='article:published_time' content='2024-02-13T16:20:38+08:00'><meta property='article:modified_time' content='2024-02-13T16:20:38+08:00'><meta property='og:image' content='https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DYdGMu4svwz6UJ6Izma43g.png'><meta name=twitter:site content="@https://twitter.com/ShawnKxming"><meta name=twitter:creator content="@https://twitter.com/ShawnKxming"><meta name=twitter:title content="Vue3 Development Solutions Two"><meta name=twitter:description content="Vue3 Development Solutions2"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DYdGMu4svwz6UJ6Izma43g.png'><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu1157332405703967761.jpeg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üç•</span></figure><div class=site-meta><h1 class=site-name><a href=/>SK Story</a></h1><h2 class=site-description>Shawn King's Stories Website</h2></div></header><ol class=menu-social><li><a href=mailto:kxming0229@gmail.com target=_blank title=Email rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=https://www.facebook.com/p/King-Shawn-100092679065959/ target=_blank title=Facebook rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-facebook"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 10v4h3v7h4v-7h3l1-4h-4V8a1 1 0 011-1h3V3h-3a5 5 0 00-5 5v2H7"/></svg></a></li><li><a href=https://twitter.com/ShawnKxming target=_blank title=Twitter rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4l11.733 16H20L8.267 4z"/><path d="M4 20l6.768-6.768m2.46-2.46L20 4"/></svg></a></li><li><a href=https://t.me/shawnkxming target=_blank title=Telegram rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-telegram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4 6 6 4-16-18 7 4 2 2 6 3-4"/></svg></a></li><li><a href=https://medium.com/@kxming target=_blank title=Medium rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-medium"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4m0 2a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2z"/><path d="M8 9h1l3 3 3-3h1"/><path d="M8 15h2"/><path d="M14 15h2"/><path d="M9 9v6"/><path d="M15 9v6"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#long-list-loading-component>Long list loading component</a></li><li><a href=#custom-lazy-loading-instructions>Custom lazy loading instructions</a></li><li><a href=#confirm-component>Confirm component</a></li><li><a href=#message-component>Message component</a></li><li><a href=#file-download>File download</a></li><li><a href=#full-screen-display>Full screen display</a></li><li><a href=#function-guide-implementation>Function guide implementation</a></li><li><a href=#form-validation>Form validation</a></li><li><a href=#image-cropping>Image cropping</a></li><li><a href=#make-the-h5-page-jump-as-smooth-as-the-native-app-page-jump>Make the h5 page jump as smooth as the native app page jump</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/vue3-development-solutions-two/><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DYdGMu4svwz6UJ6Izma43g.png loading=lazy alt="Featured image of post Vue3 Development Solutions Two"></a></div><div class=article-details><header class=article-category><a href=/categories/javascript/ style=background-color:#d1d419;color:#fff>Javascript
</a><a href=/categories/vue/ style=background-color:#28a243;color:#fff>Vue</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/vue3-development-solutions-two/>Vue3 Development Solutions Two</a></h2><h3 class=article-subtitle>Vue3 Development Solutions2</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Feb 13, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>19 minute read</time></div></footer></div></header><section class=article-content><h2 id=long-list-loading-component>Long list loading component</h2><p>Mainly by monitoring whether the bottom DOM appears in the visible area, and then making data requests to handle some special situations. Usevue‚Äôs <code>useIntersectionObserver</code> api is used, which simply encapsulates the IntersectionObserver api, allowing us to more easily implement cross-monitoring of the visible area.</p><p>It mainly provides <code>isLoading</code> to display and load more dynamic icons, <code>isFinished</code> to determine whether the data request is completed, and load to request data props for the event.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&lt;</span><span class=n>script</span> <span class=n>setup</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>useVModel</span><span class=p>,</span> <span class=n>useIntersectionObserver</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;@vueuse/core&#39;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>onUnmounted</span><span class=p>,</span> <span class=n>ref</span><span class=p>,</span> <span class=n>watch</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>props</span> <span class=o>=</span> <span class=n>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=n>isLoading</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=n>Boolean</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>default</span><span class=p>:</span> <span class=bp>false</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=n>isFinished</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=n>Boolean</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>default</span><span class=p>:</span> <span class=bp>false</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Define</span> <span class=n>loading</span> <span class=n>binding</span> <span class=n>event</span><span class=p>,</span> <span class=nb>load</span> <span class=n>more</span> <span class=n>event</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>emits</span> <span class=o>=</span> <span class=n>defineEmits</span><span class=p>([</span><span class=s1>&#39;update:isLoading&#39;</span><span class=p>,</span> <span class=s1>&#39;load&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>loading</span> <span class=o>=</span> <span class=n>useVModel</span><span class=p>(</span><span class=n>props</span><span class=p>,</span> <span class=s1>&#39;isLoading&#39;</span><span class=p>,</span> <span class=n>emits</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Load</span> <span class=n>more</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>loadingRef</span> <span class=o>=</span> <span class=n>ref</span><span class=p>(</span><span class=n>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>The</span> <span class=n>first</span> <span class=nb>load</span><span class=p>,</span> <span class=n>the</span> <span class=n>visible</span> <span class=n>area</span> <span class=n>is</span> <span class=bp>true</span><span class=p>,</span> <span class=ow>and</span> <span class=n>the</span> <span class=n>visible</span> <span class=n>area</span> <span class=n>becomes</span> <span class=bp>false</span> <span class=n>after</span> <span class=n>the</span> <span class=n>data</span> <span class=n>is</span> <span class=n>loaded</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>If</span> <span class=n>the</span> <span class=n>visible</span> <span class=n>area</span> <span class=n>is</span> <span class=ow>not</span> <span class=n>alternately</span> <span class=n>visible</span><span class=p>,</span> <span class=n>then</span> <span class=n>the</span> <span class=n>callback</span> <span class=n>will</span> <span class=ow>not</span> <span class=n>be</span> <span class=n>executed</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Record</span> <span class=n>whether</span> <span class=n>it</span> <span class=n>is</span> <span class=n>at</span> <span class=n>the</span> <span class=n>bottom</span> <span class=p>(</span><span class=n>whether</span> <span class=n>it</span> <span class=n>is</span> <span class=n>intersecting</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>targetIsIntersecting</span> <span class=o>=</span> <span class=n>ref</span><span class=p>(</span><span class=bp>false</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>useIntersectionObserver</span><span class=p>(</span><span class=n>loadingRef</span><span class=p>,</span> <span class=p>([{</span> <span class=n>isIntersecting</span> <span class=p>}])</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>console</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>isIntersecting</span><span class=p>,</span> <span class=n>props</span><span class=o>.</span><span class=n>isFinished</span><span class=p>,</span> <span class=n>loading</span><span class=o>.</span><span class=n>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=n>targetIsIntersecting</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>isIntersecting</span>
</span></span><span class=line><span class=cl>  <span class=n>emitLoad</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>emitLoad</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>When</span> <span class=n>the</span> <span class=n>bottom</span> <span class=n>area</span> <span class=n>appears</span><span class=p>,</span> <span class=n>the</span> <span class=n>data</span> <span class=n>is</span> <span class=ow>not</span> <span class=n>loaded</span><span class=p>,</span> <span class=ow>and</span> <span class=n>when</span> <span class=n>loading</span> <span class=n>is</span> <span class=bp>false</span><span class=p>,</span> <span class=n>request</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>targetIsIntersecting</span><span class=o>.</span><span class=n>value</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>props</span><span class=o>.</span><span class=n>isFinished</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>loading</span><span class=o>.</span><span class=n>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>loading</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=bp>true</span>
</span></span><span class=line><span class=cl>    <span class=n>emits</span><span class=p>(</span><span class=s1>&#39;load&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>Handle</span> <span class=n>the</span> <span class=n>bug</span> <span class=n>that</span> <span class=n>the</span> <span class=n>visible</span> <span class=n>area</span> <span class=n>judgement</span> <span class=n>callback</span> <span class=n>only</span> <span class=n>executes</span> <span class=n>once</span> <span class=n>when</span> <span class=n>the</span> <span class=n>first</span> <span class=n>data</span> <span class=nb>load</span> <span class=n>is</span> <span class=n>full</span> <span class=n>screen</span>
</span></span><span class=line><span class=cl> <span class=o>*</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>Listen</span> <span class=n>to</span> <span class=n>the</span> <span class=n>loading</span> <span class=n>changes</span> <span class=ow>and</span> <span class=n>trigger</span> <span class=n>it</span> <span class=n>again</span>
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=n>let</span> <span class=n>timer</span> <span class=o>=</span> <span class=n>null</span>
</span></span><span class=line><span class=cl><span class=n>watch</span><span class=p>(</span><span class=n>loading</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=bp>false</span> <span class=o>=&gt;</span> <span class=bp>true</span><span class=err>Ôºà</span><span class=n>delay</span> <span class=n>request</span> <span class=n>data</span><span class=p>,</span> <span class=n>wait</span> <span class=k>for</span> <span class=n>the</span> <span class=n>previous</span> <span class=n>request</span> <span class=n>to</span> <span class=n>finish</span><span class=p>,</span> <span class=ow>and</span> <span class=n>then</span> <span class=n>execute</span><span class=err>Ôºâ</span><span class=o>=&gt;</span> <span class=bp>false</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Trigger</span> <span class=nb>load</span><span class=p>,</span> <span class=n>delay</span> <span class=n>processing</span><span class=p>,</span> <span class=n>wait</span> <span class=k>for</span> <span class=n>rendering</span> <span class=p>(</span><span class=n>although</span> <span class=n>data</span> <span class=n>returns</span><span class=p>,</span> <span class=n>but</span> <span class=n>the</span> <span class=n>UI</span> <span class=n>does</span> <span class=ow>not</span> <span class=n>render</span><span class=p>,</span> <span class=n>so</span> <span class=n>targetIsIntersecting</span> <span class=n>is</span> <span class=n>still</span> <span class=bp>true</span><span class=p>)</span> <span class=ow>and</span> <span class=n>useIntersectionObserver</span> <span class=n>to</span> <span class=n>trigger</span> <span class=n>again</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>When</span> <span class=n>one</span> <span class=nb>load</span> <span class=n>can</span> <span class=n>fill</span> <span class=n>the</span> <span class=n>container</span><span class=p>,</span> <span class=n>when</span> <span class=n>loading</span> <span class=n>changes</span><span class=p>,</span> <span class=k>do</span> <span class=ow>not</span> <span class=n>let</span> <span class=n>it</span> <span class=nb>load</span> <span class=n>data</span><span class=o>.</span> <span class=n>Because</span> <span class=n>targetIsIntersecting</span> <span class=n>is</span> <span class=bp>false</span><span class=o>.</span> <span class=n>This</span> <span class=n>delay</span> <span class=n>time</span> <span class=n>must</span> <span class=n>be</span> <span class=n>greater</span> <span class=n>than</span> <span class=n>the</span> <span class=n>time</span> <span class=n>after</span> <span class=n>targetIsIntersecting</span> <span class=n>changes</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>But</span> <span class=k>for</span> <span class=n>the</span> <span class=k>case</span> <span class=n>that</span> <span class=n>one</span> <span class=nb>load</span> <span class=n>cannot</span> <span class=n>fill</span> <span class=n>the</span> <span class=n>container</span><span class=o>.</span> <span class=n>targetIsIntersecting</span> <span class=n>is</span> <span class=n>always</span> <span class=bp>true</span><span class=p>,</span> <span class=n>so</span> <span class=n>you</span> <span class=n>can</span> <span class=nb>load</span> <span class=n>twice</span> <span class=n>on</span> <span class=n>the</span> <span class=n>first</span> <span class=n>screen</span><span class=o>.</span> <span class=n>Wait</span> <span class=k>for</span> <span class=n>the</span> <span class=n>next</span> <span class=n>watch</span> <span class=n>execution</span><span class=p>,</span> <span class=n>just</span> <span class=n>delay</span> <span class=n>letting</span> <span class=n>targetIsIntersecting</span> <span class=n>change</span> <span class=n>to</span> <span class=bp>false</span><span class=p>,</span> <span class=n>then</span> <span class=n>trigger</span> <span class=n>emitLoad</span><span class=o>.</span> <span class=n>At</span> <span class=n>this</span> <span class=n>time</span><span class=p>,</span> <span class=n>it</span> <span class=n>just</span> <span class=n>stops</span> <span class=n>the</span> <span class=n>request</span><span class=o>.</span>
</span></span><span class=line><span class=cl>  <span class=n>timer</span> <span class=o>=</span> <span class=n>setTimeout</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>emitLoad</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=mi>500</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>onUnmounted</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>clearTimeout</span><span class=p>(</span><span class=n>timer</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>script</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>There is a bug that is easy to occur here. When the amount of data we return is too small at one time, the bottom area is always within the but area. We will not be able to call the callback passed in useIntersectionObserver again, and we will not be able to request data again and load it. More.</p><p>So we need to monitor the changes in loading and trigger the data request again. But there is another problem. When we load too much data at once, we still request data multiple times. This is because although the data requested for the first time has come back, the interface has not yet been rendered. This means that the bottom area is still within the area, causing the data to be read again. ask. So we manually delay the request for data in the watch listener.</p><h2 id=custom-lazy-loading-instructions>Custom lazy loading instructions</h2><p>We also need to use useVue‚Äôs useIntersectionObserver api. First, leave src blank. When entering the visible area, we assign src back.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>useIntersectionObserver</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;@vueuse/core&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=n>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>mounted</span><span class=p>(</span><span class=n>el</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Save</span> <span class=n>image</span> <span class=n>path</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=n>imgSrc</span> <span class=o>=</span> <span class=n>el</span><span class=o>.</span><span class=n>getAttribute</span><span class=p>(</span><span class=s1>&#39;src&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Set</span> <span class=n>image</span> <span class=n>src</span> <span class=n>to</span> <span class=n>empty</span>
</span></span><span class=line><span class=cl>    <span class=n>el</span><span class=o>.</span><span class=n>setAttribute</span><span class=p>(</span><span class=s1>&#39;src&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Observe</span> <span class=n>the</span> <span class=n>visibility</span> <span class=n>of</span> <span class=n>the</span> <span class=n>image</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=p>{</span> <span class=n>stop</span> <span class=p>}</span> <span class=o>=</span> <span class=n>useIntersectionObserver</span><span class=p>(</span><span class=n>el</span><span class=p>,</span> <span class=p>([{</span> <span class=n>isIntersecting</span> <span class=p>}])</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span><span class=p>(</span><span class=n>isIntersecting</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>el</span><span class=o>.</span><span class=n>setAttribute</span><span class=p>(</span><span class=s1>&#39;src&#39;</span><span class=p>,</span> <span class=n>imgSrc</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=o>//</span> <span class=n>Stop</span> <span class=n>observing</span>
</span></span><span class=line><span class=cl>        <span class=n>stop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Automatically register instructions through another method of vite‚Äôs Glob. Use <code>import.meta.globEager</code> to import all modules directly.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>export</span> <span class=n>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>install</span><span class=p>(</span><span class=n>app</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Get</span> <span class=n>all</span> <span class=n>directive</span> <span class=n>module</span> <span class=n>objects</span><span class=o>.</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=n>modules</span> <span class=o>=</span> <span class=n>import</span><span class=o>.</span><span class=n>meta</span><span class=o>.</span><span class=n>globEager</span><span class=p>(</span><span class=s1>&#39;./modules/*.js&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=n>let</span> <span class=p>[</span><span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>]</span> <span class=n>of</span> <span class=ne>Object</span><span class=o>.</span><span class=n>entries</span><span class=p>(</span><span class=n>modules</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>const</span> <span class=n>directiveName</span> <span class=o>=</span> <span class=n>key</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;./modules/&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>      <span class=n>app</span><span class=o>.</span><span class=n>directive</span><span class=p>(</span><span class=n>directiveName</span><span class=p>,</span> <span class=n>value</span><span class=o>.</span><span class=n>default</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=confirm-component>Confirm component</h2><p>confirm Implementation ideas of components:</p><ol><li><p>Create a confirm component</p></li><li><p>Create a function component and return a promise</p></li><li><p>At the same time, the h function is used to generate vnode of the confirm component.</p></li><li><p>Finally, use the render function to render vnode into body</p></li></ol><p>After understanding the design idea of ‚Äã‚Äãthe component, we need to analyze the props it should have.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>const</span> <span class=n>props</span> <span class=o>=</span> <span class=n>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=n>title</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=ne>String</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=n>content</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=ne>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>required</span><span class=p>:</span> <span class=bp>true</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=ne>Button</span> <span class=n>text</span>
</span></span><span class=line><span class=cl>  <span class=n>cancelText</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=ne>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>default</span><span class=p>:</span> <span class=s1>&#39;Cancel&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=n>confirmText</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=ne>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>default</span><span class=p>:</span> <span class=s1>&#39;Confirm&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Trigger</span> <span class=n>event</span> <span class=n>when</span> <span class=n>canceling</span> <span class=ow>and</span> <span class=n>confirming</span><span class=p>,</span> <span class=n>such</span> <span class=n>as</span> <span class=n>removing</span> <span class=n>dom</span>
</span></span><span class=line><span class=cl>  <span class=n>closeAfter</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=n>Function</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=o>/**</span>
</span></span><span class=line><span class=cl>   <span class=o>*</span> <span class=n>Mainly</span> <span class=n>to</span> <span class=n>distinguish</span> <span class=n>whether</span> <span class=n>to</span> <span class=n>click</span> <span class=n>cancel</span> <span class=ow>or</span> <span class=n>confirm</span>
</span></span><span class=line><span class=cl>   <span class=o>*/</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Trigger</span> <span class=n>event</span> <span class=n>when</span> <span class=n>confirming</span>
</span></span><span class=line><span class=cl>  <span class=n>handleConfirmClick</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=n>Function</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Trigger</span> <span class=n>event</span> <span class=n>when</span> <span class=n>canceling</span>
</span></span><span class=line><span class=cl>  <span class=n>handleCancelClick</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=n>Function</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>For the confirm component, we use a responsive data to control the animation of showing and hiding.</p><ul><li><p>When the pop-up box appears, we need to monitor the mounting moment and then control the display of the mask and pop-up box, otherwise the animation will fail.</p></li><li><p>When we click to close the pop-up box, we cannot uninstall the component immediately, otherwise the animation will disappear immediately, so we delay the uninstallation.</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>//</span> <span class=ne>Animation</span> <span class=n>duration</span><span class=p>,</span> <span class=n>which</span> <span class=n>is</span> <span class=n>a</span> <span class=n>state</span><span class=o>-</span><span class=n>driven</span> <span class=n>dynamic</span> <span class=n>CSS</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>actionDuration</span> <span class=o>=</span> <span class=s1>&#39;0.5s&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=ne>Control</span> <span class=n>visibility</span> <span class=n>of</span> <span class=s1>&#39;confirm&#39;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>isVisible</span> <span class=o>=</span> <span class=n>ref</span><span class=p>(</span><span class=bp>false</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Display</span> <span class=n>the</span> <span class=n>dialog</span> <span class=n>box</span> <span class=n>as</span> <span class=n>soon</span> <span class=n>as</span> <span class=n>the</span> <span class=n>component</span> <span class=n>is</span> <span class=n>mounted</span><span class=o>.</span> <span class=n>You</span> <span class=n>can</span> <span class=n>control</span> <span class=n>component</span> <span class=n>mounting</span> <span class=ow>and</span> <span class=n>unmounting</span> <span class=n>through</span> <span class=n>function</span> <span class=n>components</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Use</span> <span class=n>the</span> <span class=s1>&#39;mounted&#39;</span> <span class=n>life</span> <span class=n>cycle</span> <span class=n>hook</span> <span class=n>to</span> <span class=n>have</span> <span class=n>an</span> <span class=n>animation</span> <span class=n>effect</span> <span class=n>when</span> <span class=n>it</span><span class=err>‚Äô</span><span class=n>s</span> <span class=n>mounted</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=n>onMounted</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>isVisible</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=bp>true</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>Close</span> <span class=n>the</span> <span class=n>dialog</span> <span class=n>box</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>The</span> <span class=n>DOM</span> <span class=n>is</span> <span class=n>removed</span> <span class=n>after</span> <span class=n>the</span> <span class=n>animation</span> <span class=n>is</span> <span class=n>completed</span> <span class=n>using</span> <span class=n>a</span> <span class=n>timer</span><span class=o>.</span>
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>handleClose</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=ne>Animation</span> <span class=n>appears</span> <span class=n>only</span> <span class=n>when</span> <span class=n>it</span> <span class=n>is</span> <span class=n>hidden</span>
</span></span><span class=line><span class=cl>  <span class=n>isVisible</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=bp>false</span>
</span></span><span class=line><span class=cl>  <span class=n>setTimeout</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Unmount</span> <span class=s1>&#39;confirm&#39;</span> <span class=n>component</span>
</span></span><span class=line><span class=cl>    <span class=n>props</span><span class=o>.</span><span class=n>closeAfter</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=n>parseInt</span><span class=p>(</span><span class=n>actionDuration</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;0.&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;s&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>))</span> <span class=o>*</span> <span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>The encapsulation of function components mainly uses h, render function operations.</p><ul><li><p>closeAfter : Mainly to uninstall the component when clicking anywhere to close the pop-up box.</p></li><li><p>handleConfirmClick : Mainly when the confirmation button is clicked, the promise status is fulfilled, so that when the outside world uses the function component, the confirmed things can be operated in then.</p></li><li><p>handleCancelClick : Mainly when the cancel button is clicked, the promise status is rejected, so that when the outside world uses the function component, the canceled things can be operated in the catch.</p></li></ul><p><strong>The latter two functions are mainly to distinguish whether you clicked Cancel or Confirm.</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>h</span><span class=p>,</span> <span class=n>render</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=n>Confirm</span> <span class=n>from</span> <span class=s1>&#39;./index.vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=n>default</span> <span class=n>function</span> <span class=n>createConfirm</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=n>title</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=n>content</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=n>cancelText</span> <span class=o>=</span> <span class=s1>&#39;Cancel&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=n>confirmText</span> <span class=o>=</span> <span class=s1>&#39;Confirm&#39;</span>
</span></span><span class=line><span class=cl><span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>new</span> <span class=n>Promise</span><span class=p>((</span><span class=n>resolve</span><span class=p>,</span> <span class=n>reject</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>/**</span>
</span></span><span class=line><span class=cl>     <span class=o>*</span> <span class=n>Remove</span> <span class=s1>&#39;confirm&#39;</span>
</span></span><span class=line><span class=cl>     <span class=o>*/</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=n>closeAfter</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>render</span><span class=p>(</span><span class=n>null</span><span class=p>,</span> <span class=n>document</span><span class=o>.</span><span class=n>body</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>/**</span>
</span></span><span class=line><span class=cl>     <span class=o>*</span> <span class=n>Callback</span> <span class=n>when</span> <span class=n>the</span> <span class=s1>&#39;confirm&#39;</span> <span class=n>button</span> <span class=n>is</span> <span class=n>clicked</span>
</span></span><span class=line><span class=cl>     <span class=o>*/</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=n>handleConfirmClick</span> <span class=o>=</span> <span class=n>resolve</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>/**</span>
</span></span><span class=line><span class=cl>     <span class=o>*</span> <span class=n>Callback</span> <span class=n>when</span> <span class=n>the</span> <span class=s1>&#39;cancel&#39;</span> <span class=n>button</span> <span class=n>is</span> <span class=n>clicked</span>
</span></span><span class=line><span class=cl>     <span class=o>*/</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=n>handleCancelClick</span> <span class=o>=</span> <span class=n>reject</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Create</span> <span class=s1>&#39;vnode&#39;</span> <span class=ow>and</span> <span class=k>pass</span> <span class=ow>in</span> <span class=s1>&#39;props&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=n>vnode</span> <span class=o>=</span> <span class=n>h</span><span class=p>(</span><span class=n>Confirm</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>title</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>content</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>cancelText</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>confirmText</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>closeAfter</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>handleConfirmClick</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>handleCancelClick</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Render</span> <span class=n>component</span> <span class=ow>in</span> <span class=s1>&#39;body&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>render</span><span class=p>(</span><span class=n>vnode</span><span class=p>,</span> <span class=n>document</span><span class=o>.</span><span class=n>body</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=message-component>Message component</h2><p>The implementation of the message component is very similar to confirm.</p><p>props need to specify the pop-up time and type</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>const</span> <span class=n>props</span> <span class=o>=</span> <span class=n>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>message</span> <span class=n>type</span>
</span></span><span class=line><span class=cl>  <span class=n>type</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=ne>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>required</span><span class=p>:</span> <span class=bp>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>validate</span><span class=p>(</span><span class=n>val</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=n>types</span><span class=o>.</span><span class=n>includes</span><span class=p>(</span><span class=n>val</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>true</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>throw</span> <span class=n>new</span> <span class=n>Error</span><span class=p>(</span><span class=s1>&#39;Please pass in a correct type value (error, warn, success)&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>message</span> <span class=n>content</span>
</span></span><span class=line><span class=cl>  <span class=n>content</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=ne>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>required</span><span class=p>:</span> <span class=bp>true</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>message</span> <span class=n>callback</span><span class=p>,</span> <span class=n>unloads</span> <span class=n>message</span> <span class=n>after</span> <span class=n>animation</span> <span class=n>is</span> <span class=n>completed</span>
</span></span><span class=line><span class=cl>  <span class=n>closeAfter</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=n>Function</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>delay</span> <span class=n>before</span> <span class=n>deletion</span>
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=n>Number</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>default</span><span class=p>:</span> <span class=mi>3000</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>The main reason is that the hiding timing of the pop-up frame is different. In the message, it is hidden through the time control passed in from the outside world.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>const</span> <span class=n>isVisible</span> <span class=o>=</span> <span class=n>ref</span><span class=p>(</span><span class=bp>false</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>To</span> <span class=n>ensure</span> <span class=n>animation</span> <span class=n>is</span> <span class=n>displayed</span> <span class=n>when</span> <span class=n>it</span> <span class=n>appears</span><span class=p>,</span> <span class=n>we</span> <span class=n>need</span> <span class=n>to</span> <span class=n>show</span> <span class=n>the</span> <span class=n>corresponding</span> <span class=n>content</span> <span class=n>after</span> <span class=n>the</span> <span class=n>component</span> <span class=n>is</span> <span class=n>mounted</span><span class=o>.</span>
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=n>onMounted</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>isVisible</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=bp>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>setTimeout</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>isVisible</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=bp>false</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=n>props</span><span class=o>.</span><span class=n>delay</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>After</span> <span class=n>the</span> <span class=n>animation</span> <span class=n>is</span> <span class=n>complete</span><span class=p>,</span> <span class=n>trigger</span> <span class=n>the</span> <span class=n>component</span> <span class=n>to</span> <span class=n>unmount</span> <span class=n>using</span> <span class=n>the</span> <span class=s1>&#39;after-leave&#39;</span> <span class=n>hook</span> <span class=n>of</span> <span class=n>the</span> <span class=s1>&#39;transition&#39;</span> <span class=n>component</span><span class=o>.</span>
</span></span></code></pre></td></tr></table></div></div><p>Function component implementation</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>h</span><span class=p>,</span> <span class=n>render</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=n>Message</span> <span class=n>from</span> <span class=s1>&#39;./index.vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=n>function</span> <span class=n>createMessage</span><span class=p>({</span> <span class=n>type</span><span class=p>,</span> <span class=n>content</span><span class=p>,</span> <span class=n>delay</span> <span class=o>=</span> <span class=mi>3000</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=o>/**</span>
</span></span><span class=line><span class=cl>   <span class=o>*</span> <span class=n>Callback</span> <span class=n>when</span> <span class=n>the</span> <span class=n>animation</span> <span class=n>is</span> <span class=n>over</span>
</span></span><span class=line><span class=cl>   <span class=o>*/</span>
</span></span><span class=line><span class=cl>  <span class=k>const</span> <span class=n>closeAfter</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>message</span> <span class=n>destruction</span>
</span></span><span class=line><span class=cl>    <span class=n>render</span><span class=p>(</span><span class=n>null</span><span class=p>,</span> <span class=n>document</span><span class=o>.</span><span class=n>body</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Generate</span> <span class=s1>&#39;vnode&#39;</span>
</span></span><span class=line><span class=cl>  <span class=k>const</span> <span class=n>vnode</span> <span class=o>=</span> <span class=n>h</span><span class=p>(</span><span class=n>Message</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>content</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>delay</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>closeAfter</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Render</span> <span class=n>component</span>
</span></span><span class=line><span class=cl>  <span class=n>render</span><span class=p>(</span><span class=n>vnode</span><span class=p>,</span> <span class=n>document</span><span class=o>.</span><span class=n>body</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=file-download>File download</h2><p>File download related libraries:</p><ul><li><p>Small file download: <a class=link href=https://github.com/eligrey/FileSaver.js target=_blank rel=noopener>file-saver</a></p></li><li><p>Large file download: <a class=link href=https://github.com/jimmywarting/StreamSaver.js target=_blank rel=noopener>streamsaver</a></p></li></ul><p>Use the api directly and pass in the download path.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>saveAs</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;file-saver&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>handleDownload</span> <span class=o>=</span> <span class=p>(</span><span class=n>downloadPath</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>saveAs</span><span class=p>(</span><span class=n>downloadPath</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=full-screen-display>Full screen display</h2><p>We know that on native <code>dom</code> , some methods are provided for us to turn on or off full screen:</p><ul><li><p><code>Element.requestFullscreen()</code></p></li><li><p><code>Document.exitFullscreen()</code></p></li><li><p><code>Document.fullscreen</code> Returns a Boolean value indicating whether the current document is in full-screen mode. Deprecated</p></li><li><p><code>Document.fullscreenElement</code> Returns the Element node that is being displayed in full-screen mode in the current document, or null if not.</p></li></ul><p><strong>General browser</strong></p><p>Use <code>requestFullscreen()</code> and <code>exitFullscreen()</code> to achieve this</p><p><strong>Earlier version of Chrome browser</strong></p><p>Browsers based on the WebKit kernel need to add the webkit prefix, using <code>webkitRequestFullScreen()</code> and <code>webkitCancelFullScreen()</code> to achieve this.</p><p><strong>Earlier version of IE browser</strong></p><p>Browsers based on the Trident kernel need to add the ms prefix and use <code>msRequestFullscreen()</code> and <code>msExitFullscreen()</code> to achieve this. Note that the s in screen in the method is in lowercase.</p><p><strong>Earlier versions of Firefox</strong></p><p>Browsers based on the Gecko kernel need to add the moz prefix, using <code>mozRequestFullScreen()</code> and <code>mozCancelFullScreen()</code> to achieve this.</p><p><strong>Earlier version of Opera browser</strong></p><p>Opera browser needs to add the o prefix, use <code>oRequestFullScreen()</code> and <code>oCancelFullScreen()</code> to achieve this.</p><p>Considering compatibility, we can use the useFullscreen api provided by usevue</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>useFullscreen</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;@vueuse/core&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>imgRef</span> <span class=o>=</span> <span class=n>ref</span><span class=p>(</span><span class=n>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=p>{</span> <span class=n>isFullscreen</span><span class=p>,</span> <span class=n>enter</span><span class=p>,</span> <span class=n>exit</span><span class=p>,</span> <span class=n>toggle</span> <span class=p>}</span> <span class=o>=</span> <span class=n>useFullscreen</span><span class=p>(</span><span class=n>imgRef</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>handleFullScreen</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>imgRef</span><span class=o>.</span><span class=n>value</span><span class=o>.</span><span class=n>style</span><span class=o>.</span><span class=n>backgroundColor</span> <span class=o>=</span> <span class=s1>&#39;transparent&#39;</span>
</span></span><span class=line><span class=cl>  <span class=n>enter</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=function-guide-implementation>Function guide implementation</h2><p>We can achieve this through the <a class=link href=https://kamranahmed.info/driver.js/# target=_blank rel=noopener>driver.js</a> library.</p><p>Define the corresponding guidance steps.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>export</span> <span class=n>default</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Which</span> <span class=n>element</span> <span class=n>to</span> <span class=n>highlight</span>
</span></span><span class=line><span class=cl>    <span class=n>element</span><span class=p>:</span> <span class=s1>&#39;.guide-home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Configuration</span> <span class=n>object</span>
</span></span><span class=line><span class=cl>    <span class=n>popover</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=o>//</span> <span class=n>Title</span>
</span></span><span class=line><span class=cl>      <span class=n>title</span><span class=p>:</span> <span class=s1>&#39;Logo&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=o>//</span> <span class=n>Description</span>
</span></span><span class=line><span class=cl>      <span class=n>description</span><span class=p>:</span> <span class=s1>&#39;Click to return to the home page&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>element</span><span class=p>:</span> <span class=s1>&#39;.guide-search&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>popover</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>title</span><span class=p>:</span> <span class=s1>&#39;Search&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>description</span><span class=p>:</span> <span class=s1>&#39;Search for the image you want&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>element</span><span class=p>:</span> <span class=s1>&#39;.guide-theme&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>popover</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>title</span><span class=p>:</span> <span class=s1>&#39;Style&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>description</span><span class=p>:</span> <span class=s1>&#39;Choose a style you like&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=o>//</span> <span class=n>Pop</span><span class=o>-</span><span class=n>up</span> <span class=n>position</span>
</span></span><span class=line><span class=cl>      <span class=n>position</span><span class=p>:</span> <span class=s1>&#39;left&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>element</span><span class=p>:</span> <span class=s1>&#39;.guide-my&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>popover</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>title</span><span class=p>:</span> <span class=s1>&#39;Account&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>description</span><span class=p>:</span> <span class=s1>&#39;Your account information is marked here&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>position</span><span class=p>:</span> <span class=s1>&#39;left&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>element</span><span class=p>:</span> <span class=s1>&#39;.guide-start&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>popover</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>title</span><span class=p>:</span> <span class=s1>&#39;Guide&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>description</span><span class=p>:</span> <span class=s1>&#39;You can view the guide information again here&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>position</span><span class=p>:</span> <span class=s1>&#39;left&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>element</span><span class=p>:</span> <span class=s1>&#39;.guide-feedback&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>popover</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>title</span><span class=p>:</span> <span class=s1>&#39;Feedback&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>description</span><span class=p>:</span> <span class=s1>&#39;You can tell us about any dissatisfaction here&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>position</span><span class=p>:</span> <span class=s1>&#39;left&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>Then call the api provided by the driver library</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>import</span> <span class=n>Driver</span> <span class=n>from</span> <span class=s1>&#39;driver.js&#39;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=s1>&#39;driver.js/dist/driver.min.css&#39;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=n>steps</span> <span class=n>from</span> <span class=s1>&#39;./steps&#39;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>onMounted</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>Guide</span> <span class=n>page</span> <span class=n>processing</span> 
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=n>let</span> <span class=n>driver</span> <span class=o>=</span> <span class=n>null</span>
</span></span><span class=line><span class=cl><span class=n>onMounted</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>driver</span> <span class=o>=</span> <span class=n>new</span> <span class=n>Driver</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Prohibit</span> <span class=n>closing</span> <span class=n>by</span> <span class=n>clicking</span> <span class=n>on</span> <span class=n>the</span> <span class=n>screen</span> <span class=n>mask</span>
</span></span><span class=line><span class=cl>    <span class=n>allowClose</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>closeBtnText</span><span class=p>:</span> <span class=s1>&#39;Close&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>nextBtnText</span><span class=p>:</span> <span class=s1>&#39;Next&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>prevBtnText</span><span class=p>:</span> <span class=s1>&#39;Previous&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>Start</span> <span class=n>guiding</span>
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>handleGuideClick</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Define</span> <span class=n>guide</span> <span class=n>steps</span>
</span></span><span class=line><span class=cl>  <span class=n>driver</span><span class=o>.</span><span class=n>defineSteps</span><span class=p>(</span><span class=n>steps</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=n>driver</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=form-validation>Form validation</h2><p>Third-party form validation library: <a class=link href=https://vee-validate.logaretm.com/v4/tutorials/dynamic-form-generator/ target=_blank rel=noopener>vee-validate</a>.</p><p>This library provides three important components. Handle form components and form validation error prompts for us respectively.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>import {
</span></span><span class=line><span class=cl>  Form as VeeForm,
</span></span><span class=line><span class=cl>  Field as VeeField,
</span></span><span class=line><span class=cl>  ErrorMessage as VeeErrorMessage
</span></span><span class=line><span class=cl>} from &#39;vee-validate&#39;
</span></span></code></pre></td></tr></table></div></div><p>Each form item can bind validation rules through rules props. The message corresponds to the name in the field.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&lt;vee-form @submit=&#34;handleLogin&#34;&gt;
</span></span><span class=line><span class=cl>    &lt;vee-field
</span></span><span class=line><span class=cl>      class=&#34;dark:bg-zinc-800 dark:text-zinc-400 border-b-zinc-400 border-b-[1px] w-full outline-0 pb-1 px-1 text-base focus:border-b-main dark:focus:border-b-zinc-200 xl:dark:bg-zinc-900&#34;
</span></span><span class=line><span class=cl>      name=&#34;username&#34;
</span></span><span class=line><span class=cl>      :rules=&#34;validateUsername&#34;
</span></span><span class=line><span class=cl>      type=&#34;text&#34;
</span></span><span class=line><span class=cl>      placeholder=&#34;username&#34;
</span></span><span class=line><span class=cl>      autocomplete=&#34;on&#34;
</span></span><span class=line><span class=cl>      v-model=&#34;loginForm.username&#34;
</span></span><span class=line><span class=cl>    /&gt;
</span></span><span class=line><span class=cl>    &lt;vee-error-message
</span></span><span class=line><span class=cl>      class=&#34;text-sm text-red-600 block mt-0.5 text-left&#34;
</span></span><span class=line><span class=cl>      name=&#34;username&#34;
</span></span><span class=line><span class=cl>    &gt;
</span></span><span class=line><span class=cl>&lt;/vee-form&gt;
</span></span></code></pre></td></tr></table></div></div><p><strong>What needs to be noted is: the verification function, true means that the form verification has passed, String means that the form verification has not passed, and the prompt text is given.</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>Form</span> <span class=n>validation</span> <span class=k>for</span> <span class=n>Username</span>
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=k>const</span> <span class=n>validateUsername</span> <span class=o>=</span> <span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s1>&#39;Username is required&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>value</span><span class=o>.</span><span class=n>length</span> <span class=o>&lt;</span> <span class=mi>3</span> <span class=o>||</span> <span class=n>value</span><span class=o>.</span><span class=n>length</span> <span class=o>&gt;</span> <span class=mi>12</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s1>&#39;Username should be between 3-12 characters&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=bp>true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>For those that need to rely on other form values ‚Äã‚Äãfor associated verification, we need to define rules through defineRule . For example: Confirm password input box verification.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>Form</span> <span class=n>validation</span> <span class=k>for</span> <span class=n>Confirm</span> <span class=n>Password</span>
</span></span><span class=line><span class=cl> <span class=o>*</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>Parameter</span> <span class=n>two</span><span class=p>:</span> <span class=n>An</span> <span class=n>array</span> <span class=n>representing</span> <span class=n>the</span> <span class=n>related</span> <span class=n>form</span> <span class=n>values</span>
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=k>const</span> <span class=n>validateConfirmPassword</span> <span class=o>=</span> <span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>password</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>value</span> <span class=o>!==</span> <span class=n>password</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s1>&#39;The two password entries must be consistent&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=bp>true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>Define</span> <span class=n>associated</span> <span class=n>rules</span><span class=p>,</span> <span class=k>for</span> <span class=n>example</span> <span class=n>confirm</span> <span class=n>password</span>
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=n>defineRule</span><span class=p>(</span><span class=s1>&#39;validateConfirmPassword&#39;</span><span class=p>,</span> <span class=n>validateConfirmPassword</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>ruleRule rules=&ldquo;validateConfirmPassword:@password&rdquo;</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&lt;!-- Password --&gt;
</span></span><span class=line><span class=cl>        &lt;vee-field
</span></span><span class=line><span class=cl>          class=&#34;dark:bg-zinc-800 dark:text-zinc-400 border-b-zinc-400 border-b-[1px] w-full outline-0 pb-1 px-1 text-base focus:border-b-main dark:focus:border-b-zinc-200 xl:dark:bg-zinc-900&#34;
</span></span><span class=line><span class=cl>          name=&#34;password&#34;
</span></span><span class=line><span class=cl>          type=&#34;password&#34;
</span></span><span class=line><span class=cl>          placeholder=&#34;Password&#34;
</span></span><span class=line><span class=cl>          autocomplete=&#34;on&#34;
</span></span><span class=line><span class=cl>          :rules=&#34;validatePassword&#34;
</span></span><span class=line><span class=cl>          v-model=&#34;regForm.password&#34;
</span></span><span class=line><span class=cl>        /&gt;
</span></span><span class=line><span class=cl>        &lt;vee-error-message
</span></span><span class=line><span class=cl>          class=&#34;text-sm text-red-600 block mt-0.5 text-left&#34;
</span></span><span class=line><span class=cl>          name=&#34;password&#34;
</span></span><span class=line><span class=cl>        &gt;
</span></span><span class=line><span class=cl>        &lt;/vee-error-message&gt;
</span></span><span class=line><span class=cl>        &lt;!-- Confirm Password --&gt;
</span></span><span class=line><span class=cl>        &lt;vee-field
</span></span><span class=line><span class=cl>          class=&#34;dark:bg-zinc-800 dark:text-zinc-400 border-b-zinc-400 border-b-[1px] w-full outline-0 pb-1 px-1 text-base focus:border-b-main dark:focus:border-b-zinc-200 xl:dark:bg-zinc-900&#34;
</span></span><span class=line><span class=cl>          name=&#34;confirmPassword&#34;
</span></span><span class=line><span class=cl>          type=&#34;password&#34;
</span></span><span class=line><span class=cl>          placeholder=&#34;Confirm password&#34;
</span></span><span class=line><span class=cl>          autocomplete=&#34;on&#34;
</span></span><span class=line><span class=cl>          rules=&#34;validateConfirmPassword:@password&#34;
</span></span><span class=line><span class=cl>          v-model=&#34;regForm.confirmPassword&#34;
</span></span><span class=line><span class=cl>        /&gt;
</span></span><span class=line><span class=cl>        &lt;vee-error-message
</span></span><span class=line><span class=cl>          class=&#34;text-sm text-red-600 block mt-0.5 text-left&#34;
</span></span><span class=line><span class=cl>          name=&#34;confirmPassword&#34;
</span></span><span class=line><span class=cl>        &gt;
</span></span><span class=line><span class=cl>        &lt;/vee-error-message&gt;
</span></span></code></pre></td></tr></table></div></div><h2 id=image-cropping>Image cropping</h2><p>To learn image cropping, we need to get an image and display it. How do we preview the image when we click to upload it? Let‚Äôs briefly introduce it.</p><p><strong>Picture Preview</strong></p><ul><li><p>The <code>URL.createObjectURL()</code> static method creates a DOMString containing a URL representing the object given in the parameter. The lifetime of this URL is bound to the document in the window that created it. This new URL object represents the specified File object or Blob object. Through <code>URL.createObjectURL(blob)</code> you can get a memory URL of the current file.</p></li><li><p><code>FileReader.readAsDataURL(file)</code> , a string of data:base64 can be obtained through <code>FileReader.readAsDataURL(file)</code> .</p></li></ul><p>Execution time:</p><ul><li><p><code>createObjectURL</code> is executed synchronously (immediately)</p></li><li><p><code>FileReader.readAsDataURL</code> is executed asynchronously (after a period of time)</p></li></ul><p>Memory usage:</p><ul><li><p><code>createObjectURL</code> returns a section of url with hash and is stored in memory until document triggers unload event (for example: document close ) or execute revokeObjectURL to release.</p></li><li><p><code>FileReader.readAsDataURL</code> returns base64 containing many characters and consumes more memory than blob url , but it will be automatically cleared from memory (through garbage) when not in use. Recycling mechanism) In terms of compatibility, both properties are compatible with browsers above IE10.</p></li></ul><p>Compare the pros and cons:</p><p>Using createObjectURL can save performance and be faster, but you need to manually release the memory when not in use. If you don&rsquo;t care about device performance issues and want to get base64 of the image, it is recommended. Use <code>FileReader.readAsDataURL</code> .</p><p><a class=link href=https://github.com/fengyuanchen/cropperjs target=_blank rel=noopener>cropperjs</a> library to cut pictures</p><p>cropperjs is a very powerful image cropping tool, which can be applied to: native js, vue, react, etc. And the operation is very simple, and you can complete the picture cropping work in just a few simple steps.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>import</span> <span class=n>Cropper</span> <span class=n>from</span> <span class=s1>&#39;cropperjs&#39;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=s1>&#39;cropperjs/dist/cropper.css&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Mobile</span> <span class=n>configuration</span> <span class=n>object</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>mobileOptions</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Limit</span> <span class=n>crop</span> <span class=n>box</span> <span class=n>within</span> <span class=n>the</span> <span class=n>size</span> <span class=n>of</span> <span class=n>canvas</span>
</span></span><span class=line><span class=cl>  <span class=n>viewMode</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Move</span> <span class=n>canvas</span><span class=p>,</span> <span class=n>crop</span> <span class=n>box</span> <span class=n>does</span> <span class=ow>not</span> <span class=n>move</span>
</span></span><span class=line><span class=cl>  <span class=n>dragMode</span><span class=p>:</span> <span class=s1>&#39;move&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Fixed</span> <span class=n>aspect</span> <span class=n>ratio</span> <span class=n>of</span> <span class=n>the</span> <span class=n>crop</span> <span class=n>box</span><span class=p>:</span> <span class=mi>1</span><span class=p>:</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>  <span class=n>aspectRatio</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Crop</span> <span class=n>box</span> <span class=n>cannot</span> <span class=n>be</span> <span class=n>moved</span>
</span></span><span class=line><span class=cl>  <span class=n>cropBoxMovable</span><span class=p>:</span> <span class=bp>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Crop</span> <span class=n>box</span> <span class=n>size</span> <span class=n>cannot</span> <span class=n>be</span> <span class=n>adjusted</span>
</span></span><span class=line><span class=cl>  <span class=n>cropBoxResizable</span><span class=p>:</span> <span class=bp>false</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>PC</span> <span class=n>configuration</span> <span class=n>object</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>pcOptions</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Fixed</span> <span class=n>aspect</span> <span class=n>ratio</span> <span class=n>of</span> <span class=n>the</span> <span class=n>crop</span> <span class=n>box</span><span class=p>:</span> <span class=mi>1</span><span class=p>:</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>  <span class=n>aspectRatio</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=ne>Image</span> <span class=n>cropping</span> <span class=n>processing</span>
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>imageRef</span> <span class=o>=</span> <span class=n>ref</span><span class=p>(</span><span class=n>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>let</span> <span class=n>cropper</span> <span class=o>=</span> <span class=n>null</span>
</span></span><span class=line><span class=cl><span class=n>onMounted</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>/**</span>
</span></span><span class=line><span class=cl>   <span class=o>*</span> <span class=n>Takes</span> <span class=n>two</span> <span class=n>parameters</span><span class=p>:</span>
</span></span><span class=line><span class=cl>   <span class=o>*</span> <span class=mf>1.</span> <span class=n>DOM</span> <span class=n>of</span> <span class=n>the</span> <span class=n>image</span> <span class=n>to</span> <span class=n>be</span> <span class=n>cropped</span>
</span></span><span class=line><span class=cl>   <span class=o>*</span> <span class=mf>2.</span> <span class=n>options</span> <span class=n>configuration</span> <span class=n>object</span>
</span></span><span class=line><span class=cl>   <span class=o>*/</span>
</span></span><span class=line><span class=cl>  <span class=n>cropper</span> <span class=o>=</span> <span class=n>new</span> <span class=n>Cropper</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>imageRef</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>isMobileTerminal</span><span class=o>.</span><span class=n>value</span> <span class=err>?</span> <span class=n>mobileOptions</span> <span class=p>:</span> <span class=n>pcOptions</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>Then we can get the cropped file object through cropper.getCroppedCanvas().toBlob .</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Get the cropped image
</span></span><span class=line><span class=cl>cropper.getCroppedCanvas().toBlob((blob) =&gt; {
</span></span><span class=line><span class=cl>  // The blob object after cropping
</span></span><span class=line><span class=cl>  console.log(blob)
</span></span><span class=line><span class=cl>})
</span></span></code></pre></td></tr></table></div></div><h2 id=make-the-h5-page-jump-as-smooth-as-the-native-app-page-jump>Make the h5 page jump as smooth as the native app page jump</h2><p>Under normal circumstances, when we switch routes on the mobile terminal, in order to make the h5 page jump comparable to the native app, we will use the excessive animation provided by vue.</p><p>The main implementation logic is to first define the animation for entering and leaving the page, and dynamically change the transition animation name through routing jumps. Dynamically change the components of the cache component stack when jumping to achieve the component switching cache effect.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&lt;</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;!--</span> <span class=n>Router</span> <span class=n>outlet</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>router</span><span class=o>-</span><span class=n>view</span> <span class=n>v</span><span class=o>-</span><span class=n>slot</span><span class=o>=</span><span class=s2>&#34;{ Component }&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;!--</span> <span class=ne>Animation</span> <span class=n>component</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>transition</span>
</span></span><span class=line><span class=cl>      <span class=p>:</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;transitionName&#34;</span>
</span></span><span class=line><span class=cl>      <span class=err>@</span><span class=n>before</span><span class=o>-</span><span class=n>enter</span><span class=o>=</span><span class=s2>&#34;beforeEnter&#34;</span>
</span></span><span class=line><span class=cl>      <span class=err>@</span><span class=n>after</span><span class=o>-</span><span class=n>leave</span><span class=o>=</span><span class=s2>&#34;afterLeave&#34;</span>
</span></span><span class=line><span class=cl>    <span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;!--</span> <span class=n>Cache</span> <span class=n>component</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;!--</span> <span class=p>:</span><span class=n>key</span><span class=o>=</span><span class=s2>&#34;$route.fullPath&#34;</span> <span class=n>to</span> <span class=n>prevent</span> <span class=n>caching</span> <span class=n>when</span> <span class=n>switching</span> <span class=n>between</span> <span class=n>dynamic</span> <span class=n>routes</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=n>keep</span><span class=o>-</span><span class=n>alive</span> <span class=p>:</span><span class=n>include</span><span class=o>=</span><span class=s2>&#34;virtualTaskStack&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=o>&lt;</span><span class=n>component</span>
</span></span><span class=line><span class=cl>          <span class=p>:</span><span class=k>class</span><span class=o>=</span><span class=s2>&#34;{ &#39;fixed top-0 left-0 w-screen z-50&#39;: isAnimation }&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>:</span><span class=n>is</span><span class=o>=</span><span class=s2>&#34;Component&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>:</span><span class=n>key</span><span class=o>=</span><span class=s2>&#34;$route.fullPath&#34;</span>
</span></span><span class=line><span class=cl>        <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;/</span><span class=n>keep</span><span class=o>-</span><span class=n>alive</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;/</span><span class=n>transition</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;/</span><span class=n>router</span><span class=o>-</span><span class=n>view</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>ROUTER_TYPE_NONE</span> <span class=o>=</span> <span class=s1>&#39;none&#39;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>ROUTER_TYPE_PUSH</span> <span class=o>=</span> <span class=s1>&#39;push&#39;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>ROUTER_TYPE_BACK</span> <span class=o>=</span> <span class=s1>&#39;back&#39;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>script</span> <span class=n>setup</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>ref</span><span class=p>,</span> <span class=n>watch</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>useRouter</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;vue-router&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>props</span> <span class=o>=</span> <span class=n>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Transition</span> <span class=n>type</span><span class=o>.</span> <span class=n>No</span> <span class=n>transition</span> <span class=n>animation</span> <span class=k>for</span> <span class=n>PC</span><span class=p>,</span> <span class=n>set</span> <span class=n>to</span> <span class=s1>&#39;none&#39;</span>
</span></span><span class=line><span class=cl>  <span class=n>routerType</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=ne>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>default</span><span class=p>:</span> <span class=n>ROUTER_TYPE_NONE</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>validate</span><span class=p>(</span><span class=n>val</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>val</span> <span class=o>==</span> <span class=n>ROUTER_TYPE_BACK</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>        <span class=n>val</span> <span class=o>==</span> <span class=n>ROUTER_TYPE_NONE</span> <span class=o>||</span>
</span></span><span class=line><span class=cl>        <span class=n>val</span> <span class=o>==</span> <span class=n>ROUTER_TYPE_PUSH</span>
</span></span><span class=line><span class=cl>      <span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>true</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>console</span><span class=o>.</span><span class=n>error</span><span class=p>(</span>
</span></span><span class=line><span class=cl>          <span class=err>`</span><span class=n>Please</span> <span class=k>pass</span> <span class=ow>in</span> <span class=n>one</span> <span class=n>of</span> <span class=n>the</span> <span class=n>types</span> <span class=o>$</span><span class=p>{</span><span class=n>ROUTER_TYPE_NONE</span><span class=p>},</span> <span class=o>$</span><span class=p>{</span><span class=n>ROUTER_TYPE_BACK</span><span class=p>},</span> <span class=o>$</span><span class=p>{</span><span class=n>ROUTER_TYPE_PUSH</span><span class=p>}</span><span class=err>`</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>false</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Main</span> <span class=n>component</span> <span class=n>name</span><span class=p>,</span> <span class=n>corresponding</span> <span class=n>to</span> <span class=n>the</span> <span class=n>first</span> <span class=n>component</span> <span class=ow>in</span> <span class=n>the</span> <span class=n>task</span> <span class=n>stack</span>
</span></span><span class=line><span class=cl>  <span class=n>mainComponentName</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>type</span><span class=p>:</span> <span class=ne>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>required</span><span class=p>:</span> <span class=bp>true</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Cached</span> <span class=n>components</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>virtualTaskStack</span> <span class=o>=</span> <span class=n>ref</span><span class=p>([</span><span class=n>props</span><span class=o>.</span><span class=n>mainComponentName</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>Watch</span> <span class=n>the</span> <span class=n>transition</span> <span class=n>type</span><span class=p>,</span> <span class=n>then</span> <span class=n>determine</span> <span class=n>the</span> <span class=n>animation</span> <span class=n>name</span>
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>transitionName</span> <span class=o>=</span> <span class=n>ref</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>watch</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=p>()</span> <span class=o>=&gt;</span> <span class=n>props</span><span class=o>.</span><span class=n>routerType</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=n>val</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>transitionName</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>val</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>Change</span> <span class=n>the</span> <span class=n>cached</span> <span class=n>components</span> <span class=n>array</span> <span class=n>every</span> <span class=n>time</span> <span class=n>the</span> <span class=n>route</span> <span class=n>changes</span><span class=o>.</span>
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>router</span> <span class=o>=</span> <span class=n>useRouter</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>router</span><span class=o>.</span><span class=n>beforeEach</span><span class=p>((</span><span class=n>to</span><span class=p>,</span> <span class=n>from</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=o>//</span> <span class=n>Define</span> <span class=n>current</span> <span class=n>animation</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>transitionName</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>props</span><span class=o>.</span><span class=n>routerType</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>props</span><span class=o>.</span><span class=n>routerType</span> <span class=o>===</span> <span class=n>ROUTER_TYPE_PUSH</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Push</span> <span class=n>to</span> <span class=n>stack</span>
</span></span><span class=line><span class=cl>    <span class=n>virtualTaskStack</span><span class=o>.</span><span class=n>value</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=n>to</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>props</span><span class=o>.</span><span class=n>routerType</span> <span class=o>===</span> <span class=n>ROUTER_TYPE_BACK</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Pop</span> <span class=n>from</span> <span class=n>stack</span>
</span></span><span class=line><span class=cl>    <span class=n>virtualTaskStack</span><span class=o>.</span><span class=n>value</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Default</span> <span class=n>to</span> <span class=n>clear</span> <span class=n>the</span> <span class=n>stack</span> <span class=n>when</span> <span class=n>entering</span> <span class=n>the</span> <span class=n>main</span> <span class=n>page</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>to</span><span class=o>.</span><span class=n>name</span> <span class=o>===</span> <span class=n>props</span><span class=o>.</span><span class=n>mainComponentName</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>clearTask</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=ne>Animation</span> <span class=n>starts</span>
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>isAnimation</span> <span class=o>=</span> <span class=n>ref</span><span class=p>(</span><span class=bp>false</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>beforeEnter</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>isAnimation</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=bp>true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=ne>Animation</span> <span class=n>ends</span>
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>afterLeave</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>isAnimation</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=bp>false</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>/**</span>
</span></span><span class=line><span class=cl> <span class=o>*</span> <span class=n>Clear</span> <span class=n>stack</span>
</span></span><span class=line><span class=cl> <span class=o>*/</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>clearTask</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>virtualTaskStack</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=p>[</span><span class=n>props</span><span class=o>.</span><span class=n>mainComponentName</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>style</span> <span class=n>lang</span><span class=o>=</span><span class=s2>&#34;scss&#34;</span> <span class=n>scoped</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>When</span> <span class=n>pushing</span> <span class=n>a</span> <span class=n>new</span> <span class=n>page</span><span class=p>:</span> <span class=n>entering</span> <span class=n>animation</span> <span class=k>for</span> <span class=n>the</span> <span class=n>new</span> <span class=n>page</span>
</span></span><span class=line><span class=cl><span class=o>.</span><span class=n>push</span><span class=o>-</span><span class=n>enter</span><span class=o>-</span><span class=n>active</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>animation</span><span class=o>-</span><span class=n>name</span><span class=p>:</span> <span class=n>push</span><span class=o>-</span><span class=ow>in</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>animation</span><span class=o>-</span><span class=n>duration</span><span class=p>:</span> <span class=mf>0.6</span><span class=n>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>When</span> <span class=n>pushing</span> <span class=n>a</span> <span class=n>new</span> <span class=n>page</span><span class=p>:</span> <span class=n>leaving</span> <span class=n>animation</span> <span class=k>for</span> <span class=n>the</span> <span class=n>old</span> <span class=n>page</span>
</span></span><span class=line><span class=cl><span class=o>.</span><span class=n>push</span><span class=o>-</span><span class=n>leave</span><span class=o>-</span><span class=n>active</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>animation</span><span class=o>-</span><span class=n>name</span><span class=p>:</span> <span class=n>push</span><span class=o>-</span><span class=n>out</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>animation</span><span class=o>-</span><span class=n>duration</span><span class=p>:</span> <span class=mf>0.6</span><span class=n>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=ne>Animation</span> <span class=k>for</span> <span class=n>new</span> <span class=n>page</span> <span class=n>entering</span> <span class=n>when</span> <span class=n>pushing</span> <span class=n>a</span> <span class=n>new</span> <span class=n>page</span>
</span></span><span class=line><span class=cl><span class=err>@</span><span class=n>keyframes</span> <span class=n>push</span><span class=o>-</span><span class=ow>in</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=mi>0</span><span class=o>%</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>transform</span><span class=p>:</span> <span class=n>translate</span><span class=p>(</span><span class=mi>100</span><span class=o>%</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=mi>100</span><span class=o>%</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>transform</span><span class=p>:</span> <span class=n>translate</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=ne>Animation</span> <span class=k>for</span> <span class=n>old</span> <span class=n>page</span> <span class=n>exiting</span> <span class=n>when</span> <span class=n>pushing</span> <span class=n>a</span> <span class=n>new</span> <span class=n>page</span>
</span></span><span class=line><span class=cl><span class=err>@</span><span class=n>keyframes</span> <span class=n>push</span><span class=o>-</span><span class=n>out</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=mi>0</span><span class=o>%</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>transform</span><span class=p>:</span> <span class=n>translate</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>The</span> <span class=n>old</span> <span class=n>page</span> <span class=n>only</span> <span class=n>moves</span> <span class=mi>50</span><span class=o>%</span> <span class=n>of</span> <span class=n>the</span> <span class=n>animation</span> <span class=n>here</span><span class=p>,</span> <span class=n>but</span> <span class=n>the</span> <span class=n>new</span> <span class=n>page</span> <span class=n>moves</span> <span class=mi>100</span><span class=o>%</span><span class=p>,</span> <span class=n>so</span> <span class=n>it</span> <span class=n>will</span> <span class=n>be</span> <span class=n>squeezed</span> <span class=n>out</span><span class=o>.</span>
</span></span><span class=line><span class=cl>  <span class=mi>100</span><span class=o>%</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>transform</span><span class=p>:</span> <span class=n>translate</span><span class=p>(</span><span class=o>-</span><span class=mi>50</span><span class=o>%</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=ne>Animation</span> <span class=k>for</span> <span class=n>the</span> <span class=n>page</span> <span class=n>about</span> <span class=n>to</span> <span class=n>be</span> <span class=n>displayed</span> <span class=n>when</span> <span class=n>moving</span> <span class=n>backwards</span>
</span></span><span class=line><span class=cl><span class=o>.</span><span class=n>back</span><span class=o>-</span><span class=n>enter</span><span class=o>-</span><span class=n>active</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>animation</span><span class=o>-</span><span class=n>name</span><span class=p>:</span> <span class=n>back</span><span class=o>-</span><span class=ow>in</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>animation</span><span class=o>-</span><span class=n>duration</span><span class=p>:</span> <span class=mf>0.6</span><span class=n>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=ne>Animation</span> <span class=k>for</span> <span class=n>the</span> <span class=n>page</span> <span class=n>moving</span> <span class=n>backwards</span>
</span></span><span class=line><span class=cl><span class=o>.</span><span class=n>back</span><span class=o>-</span><span class=n>leave</span><span class=o>-</span><span class=n>active</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>animation</span><span class=o>-</span><span class=n>name</span><span class=p>:</span> <span class=n>back</span><span class=o>-</span><span class=n>out</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>animation</span><span class=o>-</span><span class=n>duration</span><span class=p>:</span> <span class=mf>0.6</span><span class=n>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=ne>Animation</span> <span class=k>for</span> <span class=n>the</span> <span class=n>page</span> <span class=n>about</span> <span class=n>to</span> <span class=n>be</span> <span class=n>displayed</span> <span class=n>when</span> <span class=n>moving</span> <span class=n>backwards</span>
</span></span><span class=line><span class=cl><span class=err>@</span><span class=n>keyframes</span> <span class=n>back</span><span class=o>-</span><span class=ow>in</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=mi>0</span><span class=o>%</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>width</span><span class=p>:</span> <span class=mi>100</span><span class=o>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>transform</span><span class=p>:</span> <span class=n>translate</span><span class=p>(</span><span class=o>-</span><span class=mi>100</span><span class=o>%</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=mi>100</span><span class=o>%</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>width</span><span class=p>:</span> <span class=mi>100</span><span class=o>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>transform</span><span class=p>:</span> <span class=n>translate</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=ne>Animation</span> <span class=k>for</span> <span class=n>page</span> <span class=n>moving</span> <span class=n>backwards</span>
</span></span><span class=line><span class=cl><span class=err>@</span><span class=n>keyframes</span> <span class=n>back</span><span class=o>-</span><span class=n>out</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=mi>0</span><span class=o>%</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>width</span><span class=p>:</span> <span class=mi>100</span><span class=o>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>transform</span><span class=p>:</span> <span class=n>translate</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=mi>100</span><span class=o>%</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>width</span><span class=p>:</span> <span class=mi>100</span><span class=o>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>transform</span><span class=p>:</span> <span class=n>translate</span><span class=p>(</span><span class=mi>50</span><span class=o>%</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>style</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-tags><a href=/tags/javascript/>Javascript</a>
<a href=/tags/vue/>Vue</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/understanding-keepalive-in-vue3/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SNKB1Duz47DDtnG1.png loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SNKB1Duz47DDtnG1.png></div><div class=article-details><h2 class=article-title>Understanding KeepAlive in Vue3</h2></div></a></article><article class=has-image><a href=/p/understanding-v-memo-in-vue3/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mHgmXlGtuB6aLKdr.jpg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mHgmXlGtuB6aLKdr.jpg></div><div class=article-details><h2 class=article-title>Understanding v-memo in Vue3</h2></div></a></article><article class=has-image><a href=/p/understanding-suspense-in-vue3/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*J3V7D8PQIiGwlztx.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*J3V7D8PQIiGwlztx.jpeg></div><div class=article-details><h2 class=article-title>Understanding Suspense in Vue3</h2></div></a></article><article class=has-image><a href=/p/understanding-reactive-isreactive-and-shallowreactive-in-vue3/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Lf_gf2uitG3fuTvg.jpg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Lf_gf2uitG3fuTvg.jpg></div><div class=article-details><h2 class=article-title>Understanding reactive, isReactive and shallowReactive in Vue3</h2></div></a></article><article class=has-image><a href=/p/vue3-api-overview/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jiE6x4r2qIl3C2PBHdDsug.png loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jiE6x4r2qIl3C2PBHdDsug.png></div><div class=article-details><h2 class=article-title>vue3 API¬†Overview</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=kxming/skstory data-repo-id=R_kgDOLehX4A data-category=Announcements data-category-id=DIC_kwDOLehX4M4Cd4Vx data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en-us data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2024 SK Story</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>