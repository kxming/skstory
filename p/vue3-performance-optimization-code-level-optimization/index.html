<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Through its data two-way binding and virtual DOM technologies, the Vue framework takes care of the most tedious and dirtiest part of front-end development ..."><title>Vue3 Performance Optimization ‚Äî Code-Level Optimization</title>
<link rel=canonical href=https://www.skstory.online/p/vue3-performance-optimization-code-level-optimization/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Vue3 Performance Optimization ‚Äî Code-Level Optimization"><meta property='og:description' content="Through its data two-way binding and virtual DOM technologies, the Vue framework takes care of the most tedious and dirtiest part of front-end development ..."><meta property='og:url' content='https://www.skstory.online/p/vue3-performance-optimization-code-level-optimization/'><meta property='og:site_name' content='SK Story'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Code'><meta property='article:tag' content='Javascript'><meta property='article:published_time' content='2024-06-22T16:02:05+08:00'><meta property='article:modified_time' content='2024-06-22T16:02:05+08:00'><meta property='og:image' content='https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZsES-HkGUvu6TkmfmNMBA.png'><meta name=twitter:site content="@https://twitter.com/ShawnKxming"><meta name=twitter:creator content="@https://twitter.com/ShawnKxming"><meta name=twitter:title content="Vue3 Performance Optimization ‚Äî Code-Level Optimization"><meta name=twitter:description content="Through its data two-way binding and virtual DOM technologies, the Vue framework takes care of the most tedious and dirtiest part of front-end development ..."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZsES-HkGUvu6TkmfmNMBA.png'><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu1157332405703967761.jpeg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üç•</span></figure><div class=site-meta><h1 class=site-name><a href=/>SK Story</a></h1><h2 class=site-description>Shawn King's Stories Website</h2></div></header><ol class=menu-social><li><a href=mailto:kxming0229@gmail.com target=_blank title=Email rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=https://www.facebook.com/p/King-Shawn-100092679065959/ target=_blank title=Facebook rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-facebook"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 10v4h3v7h4v-7h3l1-4h-4V8a1 1 0 011-1h3V3h-3a5 5 0 00-5 5v2H7"/></svg></a></li><li><a href=https://twitter.com/ShawnKxming target=_blank title=Twitter rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4l11.733 16H20L8.267 4z"/><path d="M4 20l6.768-6.768m2.46-2.46L20 4"/></svg></a></li><li><a href=https://t.me/shawnkxming target=_blank title=Telegram rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-telegram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4 6 6 4-16-18 7 4 2 2 6 3-4"/></svg></a></li><li><a href=https://medium.com/@kxming target=_blank title=Medium rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-medium"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4m0 2a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2z"/><path d="M8 9h1l3 3 3-3h1"/><path d="M8 15h2"/><path d="M14 15h2"/><path d="M9 9v6"/><path d="M15 9v6"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#distinguishing-use-cases-between-v-if-and-v-show>Distinguishing Use Cases between v-if and v-show</a></li><li><a href=#difference-in-use-cases-between-computed-and-watch>Difference in Use Cases Between Computed and Watch</a></li><li><a href=#when-using-v-for-in-iterations-a-key-must-be-added-to-each-item-and-avoid-using-v-if-at-the-same-time>When using v-for in iterations, a key must be added to each item, and avoid using v-if at the same time</a></li><li><a href=#use-v-memo-directive>Use v-memo Directive</a></li><li><a href=#long-list-performance-optimization>Long List Performance Optimization</a></li><li><a href=#event-destruction>Event Destruction</a></li><li><a href=#lazy-loading-of-image-resources>Lazy Loading of Image Resources</a><ol><li><a href=#install>Install</a></li><li><a href=#usage>Usage</a></li></ol></li><li><a href=#router-lazy-loading>Router Lazy Loading</a></li><li><a href=#asynccomponent>AsyncComponent</a></li><li><a href=#server-side-rendering-ssr-or-pre-rendering>Server-Side Rendering (SSR) or Pre-rendering</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/vue3-performance-optimization-code-level-optimization/><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZsES-HkGUvu6TkmfmNMBA.png loading=lazy alt="Featured image of post Vue3 Performance Optimization ‚Äî Code-Level Optimization"></a></div><div class=article-details><header class=article-category><a href=/categories/code/>Code
</a><a href=/categories/javascript/ style=background-color:#d1d419;color:#fff>Javascript</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/vue3-performance-optimization-code-level-optimization/>Vue3 Performance Optimization ‚Äî Code-Level Optimization</a></h2><h3 class=article-subtitle>Through its data two-way binding and virtual DOM technologies, the Vue framework takes care of the most tedious and dirtiest part of front-end development ...</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jun 22, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>8 minute read</time></div></footer></div></header><section class=article-content><h2 id=distinguishing-use-cases-between-v-if-and-v-show>Distinguishing Use Cases between v-if and v-show</h2><p><code>v-if</code> is true conditional rendering because it ensures that event listeners and child components within the conditional block are properly destroyed and recreated during the toggling process, it is also lazy: if the condition is false during the initial render, it does nothing ‚Äî only when the condition turns true for the first time does it start rendering the conditional block.</p><p><code>v-show</code> is much simpler; regardless of the initial condition, the element is always rendered and simply toggles based on the CSS display property.</p><p>Therefore, <code>v-if</code> is suitable for scenarios where the condition rarely changes at runtime, and there is no need to frequently toggle the condition; <code>v-show</code> is suitable for scenarios that require very frequent condition toggling.</p><p>However, in actual development, we are unable to determine whether a scenario (Dialog) is frequently toggled.</p><p>Therefore, in practice, deciding between <code>v-if</code> and <code>v-show</code> should be based on their characteristics. <code>v-if</code> should be used when a component needs to be created at a specific time and destroyed at a specific time. Conversely, <code>v-show</code> can be used when a component only needs to be created once.</p><h2 id=difference-in-use-cases-between-computed-and-watch>Difference in Use Cases Between Computed and Watch</h2><ul><li><p><code>computed</code>: <code>computed</code> properties depend on other property values, and the value of <code>computed</code> is cached. The <code>computed</code> value is only recalculated the next time it is accessed if any of its dependent properties have changed.</p></li><li><p><code>watch</code>: Serves more as an observer, similar to a callback for data changes. The callback is executed for subsequent operations whenever the watched data changes.</p></li></ul><p>Use Cases:</p><p>When we need to perform calculations that depend on other data, we should use computed. This takes advantage of the caching feature of computed properties, avoiding redundant recalculations every time the value is accessed.</p><p>When we need to perform asynchronous or resource-intensive operations in response to data changes, we should use watch. The watch option allows us to perform asynchronous operations (accessing an API), limit the frequency of these operations, and set intermediate states before we get the final result. These are capabilities that computed properties do not have.</p><h2 id=when-using-v-for-in-iterations-a-key-must-be-added-to-each-item-and-avoid-using-v-if-at-the-same-time>When using v-for in iterations, a key must be added to each item, and avoid using v-if at the same time</h2><p>(1). A <code>key</code> must be added to each item in a <code>v-for</code> loop</p><p>When iterating over list data for rendering, each item should have a unique key to help Vue.js‚Äôs internal mechanism accurately locate the item in the list. This facilitates a quicker diff process when the state updates by comparing the new state values with the old ones.</p><p>(2). Avoid using <code>v-if </code>together with <code>v-for</code></p><p><code>v-for</code> has a higher priority than v-if. Iterating over the entire array every time can affect performance, especially when only a small part of it needs to be rendered. In such cases, it should be replaced with computed properties where necessary.</p><h2 id=use-v-memo-directive>Use v-memo Directive</h2><p>The v-memo directive allows for caching the results of computed properties or component methods to avoid unnecessary recalculations. The method or computed property value will only be recalculated and the interface updated when the specified attribute values change.</p><p>You can refer to this article for more information ‚Äî <a class=link href=https://medium.com/stackademic/understanding-v-memo-in-vue3-a91ea445a9cf target=_blank rel=noopener>Understanding v-memo in Vue3</a></p><h2 id=long-list-performance-optimization>Long List Performance Optimization</h2><p>Lazy loading and virtual lists serve as two common optimization strategies for long lists, each having its own limitations and applicable scenarios:</p><p>Lazy loading has a basic concept similar to pagination (but provides a better user experience on mobile, hence its broader application), i.e., not rendering all the data in the list at once but appending new batches of data to the end of the list as the user scrolls to its bottom. However, it cannot reflect the total length of the list, which is both a limitation and an advantage, as it can encourage users to continuously seek new content. In contrast, although virtual lists are virtual, the scrollbar length is real, accurately reflecting the total length of the list.</p><p>While lazy loading avoids the performance downfall associated with rendering a large number of DOM elements at once, it does not fully address the performance issues related to handling a large number of DOM elements. As users persistently access new content, the page will still host a large number of DOM elements. However, virtual lists ensure that the number of DOM elements on the page remains roughly constant, thereby solving this issue. Virtual lists mean that aside from the real rendered list items in the viewport, the others outside of visibility are ‚Äúvirtual‚Äù and not rendered, greatly reducing the number of DOM elements on the page and naturally enhancing rendering performance.</p><p>Since lazy loading only adds new DOM elements without altering existing ones, and virtual lists often modify (even destroy and recreate) DOM elements, lazy loading therefore has better performance when list items need to load static resources or perform time-consuming operations.</p><p>Moreover, it‚Äôs also possible to implement lazy loading within virtual lists.</p><p>You can use <a class=link href=https://github.com/Akryum/vue-virtual-scroller target=_blank rel=noopener>vue-virtual-scroller</a> to implement your own virtual list.</p><h2 id=event-destruction>Event Destruction</h2><p>When a Vue component is destroyed, it automatically cleans up its connections with other instances, unbinds all its directives and event listeners, but this is limited to the component‚Äôs own events. If events are added using addEventListener in JavaScript, they will not be automatically destroyed. We need to manually remove these event listeners when the component is destroyed to avoid memory leaks, such as:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>created() {
</span></span><span class=line><span class=cl>  addEventListener(&#39;click&#39;, this.click, false)
</span></span><span class=line><span class=cl>},
</span></span><span class=line><span class=cl>beforeDestroy() {
</span></span><span class=line><span class=cl>  removeEventListener(&#39;click&#39;, this.click, false)
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>Events registered within hooks can also be uniformly destroyed using the effectScope API. You can refer to this article for more information ‚Äî <a class=link href=https://medium.com/@kxming/understanding-effectscope-in-vue3-f22836608cd4 target=_blank rel=noopener>Understanding effectScope in Vue3</a></p><h2 id=lazy-loading-of-image-resources>Lazy Loading of Image Resources</h2><p>For pages with a large number of images, in order to speed up the page loading time, often we need to avoid loading images that are not in the visible area of the page until they scroll into view. This significantly improves page loading performance and enhances the user experience. In our projects, we use the Vue plugin vue-lazyload:</p><h3 id=install>Install</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>yarn</span> <span class=n>add</span> <span class=n>vue3</span><span class=o>-</span><span class=n>lazyload</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=usage>Usage</h3><p><code>main.js</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>import</span> <span class=p>{</span> <span class=n>createApp</span> <span class=p>}</span> <span class=n>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=n>VueLazyLoad</span> <span class=n>from</span> <span class=s1>&#39;vue3-lazyload&#39;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=n>App</span> <span class=n>from</span> <span class=s1>&#39;./App.vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>app</span> <span class=o>=</span> <span class=n>createApp</span><span class=p>(</span><span class=n>App</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=o>.</span><span class=n>use</span><span class=p>(</span><span class=n>VueLazyLoad</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>options</span><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=o>.</span><span class=n>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><code>component-a.vue</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&lt;</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>img</span> <span class=n>v</span><span class=o>-</span><span class=n>lazy</span><span class=o>=</span><span class=s2>&#34;your image url&#34;</span> <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;!--</span> <span class=ow>or</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>img</span> <span class=n>v</span><span class=o>-</span><span class=n>lazy</span><span class=o>=</span><span class=s2>&#34;{ src: &#39;your image url&#39;, loading: &#39;your loading image url&#39;, error: &#39;your error image url&#39; }&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>template</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>For more usage methods and configurations, you can check the official documentation ‚Äî <a class=link href=https://github.com/murongg/vue3-lazyload target=_blank rel=noopener>vue3-lazyload</a>.</p><h2 id=router-lazy-loading>Router Lazy Loading</h2><p>Because Vue packs all route components into one file during compilation, it results in the need to download a large file upon initial loading. By using router lazy loading, route components can be split into multiple smaller files, which are only downloaded as needed, thereby reducing the initial resource load. Loading component resources on demand improves resource utilization and enhances user experience.</p><p>The implementation of router lazy loading:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>import</span> <span class=n>Vue</span> <span class=n>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=n>import</span> <span class=n>Router</span> <span class=n>from</span> <span class=s1>&#39;vue-router&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Vue</span><span class=o>.</span><span class=n>use</span><span class=p>(</span><span class=n>Router</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>routes</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>path</span><span class=p>:</span> <span class=s1>&#39;/home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span><span class=p>:</span> <span class=s1>&#39;Home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Lazy</span> <span class=n>loading</span> <span class=n>the</span> <span class=n>Home</span> <span class=n>component</span>
</span></span><span class=line><span class=cl>    <span class=n>component</span><span class=p>:</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=n>import</span><span class=p>(</span><span class=s1>&#39;@/components/Home.vue&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>path</span><span class=p>:</span> <span class=s1>&#39;/about&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span><span class=p>:</span> <span class=s1>&#39;About&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Lazy</span> <span class=n>loading</span> <span class=n>the</span> <span class=n>About</span> <span class=n>component</span>
</span></span><span class=line><span class=cl>    <span class=n>component</span><span class=p>:</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=n>import</span><span class=p>(</span><span class=s1>&#39;@/components/About.vue&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>export</span> <span class=n>default</span> <span class=n>new</span> <span class=n>Router</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=n>mode</span><span class=p>:</span> <span class=s1>&#39;history&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=n>base</span><span class=p>:</span> <span class=n>process</span><span class=o>.</span><span class=n>env</span><span class=o>.</span><span class=n>BASE_URL</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=n>routes</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>In this example, the <code>import()</code> syntax is used to load the component only when the route is visited, which effectively implements lazy loading for the route components.</p><h2 id=asynccomponent>AsyncComponent</h2><p>Due to Vue loading child components first before loading the parent component, if the loading time for a child component is too long, it can lead to a prolonged period of blankness on the page. The use of async components can solve this issue.</p><p>Vue 3 provides <code>defineAsyncComponent</code>, which allows for a more concise definition of asynchronous components. Just pass a parameter that returns the <code>import()</code> function, which dynamically loads the component when needed. This approach reduces the need to manually write code for asynchronous loading.</p><p>You can refer to this article for more information ‚Äî <a class=link href=https://medium.com/@kxming/understanding-async-components-in-vue3-ca2fb5e5fe16 target=_blank rel=noopener>Understanding Async Components in Vue3</a></p><h2 id=server-side-rendering-ssr-or-pre-rendering>Server-Side Rendering (SSR) or Pre-rendering</h2><p>Server-side rendering refers to the process where Vue performs the rendering of the entire HTML fragment on the server side, rather than on the client side, and the server-generated HTML fragment is directly returned to the client. This process is known as server-side rendering (SSR).</p><p>(1) Advantages of server-side rendering:</p><ul><li><p>Better SEO: Since the content of SPA pages is fetched through Ajax, and search engine crawlers do not wait for Ajax to asynchronously complete before crawling page content, the content fetched by Ajax in SPAs cannot be crawled. On the other hand, SSR returns a page that has already been rendered on the server (with data already included in the page), making it possible for search engine crawlers to fetch the rendered page.</p></li><li><p>Faster time to content (quicker first screen load): In SPAs, the rendering of the page only begins after all the Vue-compiled js files have been downloaded, which requires some time, hence there‚Äôs a delay in first screen rendering. SSR, being rendered directly by the server and returned for display, does not require waiting for the js files to be downloaded and then rendered, thus achieving a faster content delivery time.</p></li></ul><p>(2) Disadvantages of server-side rendering:</p><ul><li><p>More development constraints: For example, server-side rendering only supports the beforeCreate and created lifecycle hooks, which necessitate special handling of some external libraries to make them work in server-rendered applications. Moreover, unlike fully static SPAs that can be deployed on any static file server, SSR applications need to run in a Node.js server environment.</p></li><li><p>Increased server load: Rendering a full application in Node.js obviously occupies more CPU resources compared to just serving static files, thus if you anticipate high traffic, be prepared for the increased server load and wisely adopt caching strategies.</p></li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/code/>Code</a>
<a href=/tags/javascript/>Javascript</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/advanced-usage-of-reduce-you-might-not-know/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h7QTz6KqyeYG_ausGQjj5g.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h7QTz6KqyeYG_ausGQjj5g.jpeg></div><div class=article-details><h2 class=article-title>Advanced Usage of Reduce You Might Not Know</h2></div></a></article><article class=has-image><a href=/p/vue3-performance-optimization-bundle-optimization/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZsES-HkGUvu6TkmfmNMBA.png loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZsES-HkGUvu6TkmfmNMBA.png></div><div class=article-details><h2 class=article-title>Vue3 Performance Optimization ‚Äî Bundle Optimization</h2></div></a></article><article class=has-image><a href=/p/how-much-do-you-know-about-29-javascript-object-methods/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l_w8hkehf25Nx3H_AzEVbQ.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l_w8hkehf25Nx3H_AzEVbQ.jpeg></div><div class=article-details><h2 class=article-title>How Much Do You Know About 29 JavaScript Object Methods?</h2></div></a></article><article class=has-image><a href=/p/most-of-the-books-youve-read-are-mostly-forgotten-so-why-keep-reading/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zm-09l_F3UwVf2IneHGHew.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zm-09l_F3UwVf2IneHGHew.jpeg></div><div class=article-details><h2 class=article-title>Most of the books you‚Äôve read are mostly forgotten, so why keep reading?</h2></div></a></article><article class=has-image><a href=/p/understanding-nexttick-in-vue3/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bw3XTqb8qDgc4xdJ0DR75g.png loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bw3XTqb8qDgc4xdJ0DR75g.png></div><div class=article-details><h2 class=article-title>Understanding nextTick in Vue3</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=kxming/skstory data-repo-id=R_kgDOLehX4A data-category=Announcements data-category-id=DIC_kwDOLehX4M4Cd4Vx data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en-us data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2024 SK Story</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>