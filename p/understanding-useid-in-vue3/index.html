<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Introduction The useId function, newly added in Vue 3.5, is primarily used to generate unique IDs. These IDs are unique within the same Vue application, and each call to useId generates a different ID. This functionality is very useful when handling list rendering, form elements, and accessibility attributes, as it ensures that each element has a unique identifier.\nThe implementation principle of useId is relatively simple. It generates IDs by accessing the ids property of the Vue instance, which is an array containing a prefix and an incrementing number. Each time useId is called, it retrieves the current number, increments it, and returns the ID. This means that multiple Vue application instances on the same page can avoid ID conflicts by configuring app.config.idPrefix, as each application instance maintains its own ID generation sequence.\n"><title>Understanding useId in Vue3</title>
<link rel=canonical href=https://www.skstory.online/p/understanding-useid-in-vue3/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Understanding useId in Vue3"><meta property='og:description' content="Introduction The useId function, newly added in Vue 3.5, is primarily used to generate unique IDs. These IDs are unique within the same Vue application, and each call to useId generates a different ID. This functionality is very useful when handling list rendering, form elements, and accessibility attributes, as it ensures that each element has a unique identifier.\nThe implementation principle of useId is relatively simple. It generates IDs by accessing the ids property of the Vue instance, which is an array containing a prefix and an incrementing number. Each time useId is called, it retrieves the current number, increments it, and returns the ID. This means that multiple Vue application instances on the same page can avoid ID conflicts by configuring app.config.idPrefix, as each application instance maintains its own ID generation sequence.\n"><meta property='og:url' content='https://www.skstory.online/p/understanding-useid-in-vue3/'><meta property='og:site_name' content='SK Story'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Story'><meta property='article:tag' content='Fiction'><meta property='article:tag' content='Life'><meta property='article:published_time' content='2024-11-10T16:02:05+08:00'><meta property='article:modified_time' content='2024-11-10T16:02:05+08:00'><meta property='og:image' content='https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6aTlWcQeK-86tPxH.png'><meta name=twitter:site content="@https://twitter.com/ShawnKxming"><meta name=twitter:creator content="@https://twitter.com/ShawnKxming"><meta name=twitter:title content="Understanding useId in Vue3"><meta name=twitter:description content="Introduction The useId function, newly added in Vue 3.5, is primarily used to generate unique IDs. These IDs are unique within the same Vue application, and each call to useId generates a different ID. This functionality is very useful when handling list rendering, form elements, and accessibility attributes, as it ensures that each element has a unique identifier.\nThe implementation principle of useId is relatively simple. It generates IDs by accessing the ids property of the Vue instance, which is an array containing a prefix and an incrementing number. Each time useId is called, it retrieves the current number, increments it, and returns the ID. This means that multiple Vue application instances on the same page can avoid ID conflicts by configuring app.config.idPrefix, as each application instance maintains its own ID generation sequence.\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6aTlWcQeK-86tPxH.png'><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu1157332405703967761.jpeg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üç•</span></figure><div class=site-meta><h1 class=site-name><a href=/>SK Story</a></h1><h2 class=site-description>Shawn King's Stories Website</h2></div></header><ol class=menu-social><li><a href=mailto:kxming0229@gmail.com target=_blank title=Email rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=https://www.facebook.com/p/King-Shawn-100092679065959/ target=_blank title=Facebook rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-facebook"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 10v4h3v7h4v-7h3l1-4h-4V8a1 1 0 011-1h3V3h-3a5 5 0 00-5 5v2H7"/></svg></a></li><li><a href=https://twitter.com/ShawnKxming target=_blank title=Twitter rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4l11.733 16H20L8.267 4z"/><path d="M4 20l6.768-6.768m2.46-2.46L20 4"/></svg></a></li><li><a href=https://t.me/shawnkxming target=_blank title=Telegram rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-telegram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4 6 6 4-16-18 7 4 2 2 6 3-4"/></svg></a></li><li><a href=https://medium.com/@kxming target=_blank title=Medium rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-medium"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4m0 2a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2z"/><path d="M8 9h1l3 3 3-3h1"/><path d="M8 15h2"/><path d="M14 15h2"/><path d="M9 9v6"/><path d="M15 9v6"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#introduction>Introduction</a></li><li><a href=#1-source-code>1. Source Code</a></li><li><a href=#2-setting-the-id-prefix>2. Setting the ID Prefix</a></li><li><a href=#3usage>3.Usage</a><ol><li><a href=#31-unique-identifier-for-form-elements>3.1 Unique Identifier for Form Elements</a></li><li><a href=#32-unique-keys-in-list-rendering>3.2 Unique Keys in List Rendering</a></li><li><a href=#33-avoiding-id-conflicts-in-server-side-rendering-ssr>3.3 Avoiding ID Conflicts in Server-Side Rendering (SSR)</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/understanding-useid-in-vue3/><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6aTlWcQeK-86tPxH.png loading=lazy alt="Featured image of post Understanding useId in Vue3"></a></div><div class=article-details><header class=article-category><a href=/categories/story/>Story
</a><a href=/categories/fiction/ style=background-color:#2a849d;color:#fff>Fiction
</a><a href=/categories/life/>Life</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/understanding-useid-in-vue3/>Understanding useId in Vue3</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Nov 10, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>5 minute read</time></div></footer></div></header><section class=article-content><h2 id=introduction>Introduction</h2><p>The useId function, newly added in Vue 3.5, is primarily used to generate unique IDs. These IDs are unique within the same Vue application, and each call to useId generates a different ID. This functionality is very useful when handling list rendering, form elements, and accessibility attributes, as it ensures that each element has a unique identifier.</p><p>The implementation principle of useId is relatively simple. It generates IDs by accessing the ids property of the Vue instance, which is an array containing a prefix and an incrementing number. Each time useId is called, it retrieves the current number, increments it, and returns the ID. This means that multiple Vue application instances on the same page can avoid ID conflicts by configuring app.config.idPrefix, as each application instance maintains its own ID generation sequence.</p><h2 id=1-source-code>1. Source Code</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>export</span> <span class=n>function</span> <span class=n>useId</span><span class=p>():</span> <span class=n>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>const</span> <span class=n>i</span> <span class=o>=</span> <span class=n>getCurrentInstance</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>(</span><span class=n>i</span><span class=o>.</span><span class=n>appContext</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>idPrefix</span> <span class=o>||</span> <span class=s1>&#39;v&#39;</span><span class=p>)</span> <span class=o>+</span> <span class=s1>&#39;-&#39;</span> <span class=o>+</span> <span class=n>i</span><span class=o>.</span><span class=n>ids</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=n>i</span><span class=o>.</span><span class=n>ids</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=o>++</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>__DEV__</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>warn</span><span class=p>(</span>
</span></span><span class=line><span class=cl>      <span class=err>`</span><span class=n>useId</span><span class=p>()</span> <span class=n>is</span> <span class=n>called</span> <span class=n>when</span> <span class=n>there</span> <span class=n>is</span> <span class=n>no</span> <span class=n>active</span> <span class=n>component</span> <span class=err>`</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>        <span class=err>`</span><span class=n>instance</span> <span class=n>to</span> <span class=n>be</span> <span class=n>associated</span> <span class=n>with</span><span class=o>.</span><span class=err>`</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p><code>i.appContext.config.idPrefix</code>: This is a configuration property obtained from the current component instance to define the prefix for the generated ID. If this prefix exists, it will be used; otherwise, the default &lsquo;v&rsquo; will be used.</p></li><li><p><code>i.ids[0]</code>: This is the first element of the ids array on the current component instance, typically an empty string, used as part of the ID generation.</p></li><li><p><code>i.ids[1]++</code>: This is the second element of the ids array, a number used for the incrementing part of the ID. The post-increment operator ++ is used here, which means it returns the current value and then increments it. Each time useId is called, this number increases, ensuring that the generated ID is unique.</p></li></ul><h2 id=2-setting-the-id-prefix>2. Setting the ID Prefix</h2><p>If you do not want to use the default prefix &lsquo;v&rsquo;, you can set it using <code>app.config.idPrefix</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=k>const</span> <span class=n>app</span> <span class=o>=</span> <span class=n>createApp</span><span class=p>(</span><span class=n>App</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>idPrefix</span> <span class=o>=</span> <span class=s1>&#39;vid&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=3usage>3.Usage</h2><h3 id=31-unique-identifier-for-form-elements>3.1 Unique Identifier for Form Elements</h3><p>In forms, the <code>&lt;label></code> tag needs to match the for attribute with the corresponding <code>&lt;input></code> tag&rsquo;s id attribute to ensure that clicking the label focuses the input field. Using useId can generate a unique ID for each <code>&lt;input></code> element, ensuring this functionality works correctly. For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&lt;</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>label</span> <span class=p>:</span><span class=k>for</span><span class=o>=</span><span class=s2>&#34;id&#34;</span><span class=o>&gt;</span><span class=n>Do</span> <span class=n>you</span> <span class=n>like</span> <span class=n>Vue</span> <span class=mf>3.5</span><span class=err>?</span><span class=o>&lt;/</span><span class=n>label</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>input</span> <span class=n>type</span><span class=o>=</span><span class=s2>&#34;checkbox&#34;</span> <span class=p>:</span><span class=n>id</span><span class=o>=</span><span class=s2>&#34;id&#34;</span> <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>script</span> <span class=n>setup</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>id</span> <span class=o>=</span> <span class=n>useId</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>script</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=32-unique-keys-in-list-rendering>3.2 Unique Keys in List Rendering</h3><p>When rendering lists, each item typically requires a unique key to help Vue track the identity of each node for efficient DOM updates. If your list data does not have a unique key, useId can generate a unique key for each item in the list.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&lt;</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>ul</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>li</span> <span class=n>v</span><span class=o>-</span><span class=k>for</span><span class=o>=</span><span class=s2>&#34;item in items&#34;</span> <span class=p>:</span><span class=n>key</span><span class=o>=</span><span class=s2>&#34;item.id&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>{{</span> <span class=n>item</span><span class=o>.</span><span class=n>text</span> <span class=p>}}</span><span class=err>Ôºà</span><span class=p>{{</span> <span class=n>item</span><span class=o>.</span><span class=n>id</span> <span class=p>}}</span><span class=err>Ôºâ</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;/</span><span class=n>li</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;/</span><span class=n>ul</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>script</span> <span class=n>setup</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>items</span> <span class=o>=</span> <span class=ne>Array</span><span class=o>.</span><span class=n>from</span><span class=p>({</span> <span class=n>length</span><span class=p>:</span> <span class=mi>10</span><span class=p>},</span> <span class=p>(</span><span class=n>v</span><span class=p>,</span> <span class=n>k</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>text</span><span class=p>:</span> <span class=err>`</span><span class=n>Text</span> <span class=o>$</span><span class=p>{</span><span class=n>k</span><span class=p>}</span><span class=err>`</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>id</span><span class=p>:</span> <span class=n>useId</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>script</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Result:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>¬∑Text 0(vid-1)
</span></span><span class=line><span class=cl>.Text 1(vid-2)
</span></span><span class=line><span class=cl>¬∑Text 2(vid-3)
</span></span><span class=line><span class=cl>¬∑Text 3(vid-4)
</span></span><span class=line><span class=cl>¬∑Text 4(vid-5)
</span></span><span class=line><span class=cl>.Text 5(vid-6)
</span></span><span class=line><span class=cl>.Text 6(vid-7)
</span></span><span class=line><span class=cl>¬∑Text 7(vid-8)
</span></span><span class=line><span class=cl>.Text 8(vid-9)
</span></span><span class=line><span class=cl>¬∑Text 9(vid-10)
</span></span></code></pre></td></tr></table></div></div><h3 id=33-avoiding-id-conflicts-in-server-side-rendering-ssr>3.3 Avoiding ID Conflicts in Server-Side Rendering (SSR)</h3><p>Here‚Äôs an example of server-side rendering:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>&lt;</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;</span><span class=n>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>label</span> <span class=p>:</span><span class=n>htmlFor</span><span class=o>=</span><span class=s2>&#34;id&#34;</span><span class=o>&gt;</span><span class=n>Do</span> <span class=n>you</span> <span class=n>like</span> <span class=n>Vue3</span><span class=o>.</span><span class=mi>5</span><span class=err>?</span><span class=o>&lt;/</span><span class=n>label</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>input</span> <span class=n>type</span><span class=o>=</span><span class=s2>&#34;checkbox&#34;</span> <span class=n>name</span><span class=o>=</span><span class=s2>&#34;vue3.5&#34;</span> <span class=p>:</span><span class=n>id</span><span class=o>=</span><span class=s2>&#34;id&#34;</span> <span class=o>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=o>&lt;/</span><span class=n>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>template</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>script</span> <span class=n>setup</span> <span class=n>lang</span><span class=o>=</span><span class=s2>&#34;ts&#34;</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>id</span> <span class=o>=</span> <span class=n>Math</span><span class=o>.</span><span class=n>random</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=o>&lt;/</span><span class=n>script</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>The above code works fine when rendered on the client side, but will trigger a warning in server-side rendering due to differing ID values, generating a <code>Hydration attribute mismatch</code> warning.</p><p>Why is an ID generated on the server and then again on the client?</p><p>To answer this, we need to understand the server-side rendering (SSR) process:</p><ol><li><p>First, a request is made on the server (Node.js environment) to fetch the data needed to render the page.</p></li><li><p>Based on the received data, the server generates the HTML string, generating an ID in this step, called dehydration.</p></li><li><p>The server-generated HTML string is sent to the client (browser).</p></li><li><p>The browser receives this HTML string and renders it as the initial content. However, at this point, click events have not yet been bound to the DOM, so the client needs to render again, generating an ID once more, called hydration.</p></li></ol><p>Since we used <code>Math.random()</code> to generate the ID, the IDs generated on the server and client will differ, leading to the warning mentioned above.</p><p>With <code>useId</code>, resolving this warning becomes simple: just replace <code>Math.random()</code> with <code>useId()</code>.</p><p>This is because <code>useId</code> will generate <code>v-0</code> during server-side rendering and will still be <code>v-0</code> during client rendering.</p><p>Some may wonder, didn‚Äôt we just say that <code>useId</code> increments the number each time it is executed? Shouldn‚Äôt the IDs generated on the server and client be different after executing once on the server and then once on the client?</p><p>The incrementing part generated by <code>useId</code> is maintained in the ids property of the Vue instance. During server-side rendering, a Vue instance is created on the Node.js side. However, a new Vue instance is created in the browser for client rendering, resetting the ids property. Therefore, the IDs generated by useId on the server and client are the same.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/story/>Story</a>
<a href=/tags/fiction/>Fiction</a>
<a href=/tags/life/>Life</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/recording-my-current-mac-applications/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Ie5puTXFNbSKEZ61ibY6A.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Ie5puTXFNbSKEZ61ibY6A.jpeg></div><div class=article-details><h2 class=article-title>Recording My Current Mac Applications</h2></div></a></article><article class=has-image><a href=/p/jumping-out-of-nested-loops-in-javascript/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Ie5puTXFNbSKEZ61ibY6A.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Ie5puTXFNbSKEZ61ibY6A.jpeg></div><div class=article-details><h2 class=article-title>Jumping Out of Nested Loops in JavaScript</h2></div></a></article><article class=has-image><a href=/p/exploring-the-difference-between-width-100-and-width-auto/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6aTlWcQeK-86tPxH.png loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6aTlWcQeK-86tPxH.png></div><div class=article-details><h2 class=article-title>Exploring the Difference Between width: 100% and width: auto</h2></div></a></article><article class=has-image><a href=/p/12-vue-3-backend-management-templates-to-bookmark-and-learn/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u483g0dL7NmbtDvGH817bg.png loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u483g0dL7NmbtDvGH817bg.png></div><div class=article-details><h2 class=article-title>12 Vue 3 Backend Management Templates to Bookmark and Learn</h2></div></a></article><article class=has-image><a href=/p/usage-and-differences-of-.-.-and-in-javascript/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1372/format:webp/1*6VMwfpFr7bDv_qeLHsk_dA.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1372/format:webp/1*6VMwfpFr7bDv_qeLHsk_dA.jpeg></div><div class=article-details><h2 class=article-title>Usage and Differences of ?., !., and ?? in JavaScript</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=kxming/skstory data-repo-id=R_kgDOLehX4A data-category=Announcements data-category-id=DIC_kwDOLehX4M4Cd4Vx data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en-us data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2024 SK Story</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>