<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="In front-end development, implementing seamless token refresh is usually to maintain the user‚Äôs login status and ensure the validity of their access permissions."><title>How to refresh token seamlessly</title>
<link rel=canonical href=https://www.skstory.online/p/how-to-refresh-token-seamlessly/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="How to refresh token seamlessly"><meta property='og:description' content="In front-end development, implementing seamless token refresh is usually to maintain the user‚Äôs login status and ensure the validity of their access permissions."><meta property='og:url' content='https://www.skstory.online/p/how-to-refresh-token-seamlessly/'><meta property='og:site_name' content='SK Story'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Code'><meta property='article:tag' content='Javascript'><meta property='article:published_time' content='2024-06-07T16:02:05+08:00'><meta property='article:modified_time' content='2024-06-07T16:02:05+08:00'><meta property='og:image' content='https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nENIDWcdJkPzfhte4UmYNQ.png'><meta name=twitter:site content="@https://twitter.com/ShawnKxming"><meta name=twitter:creator content="@https://twitter.com/ShawnKxming"><meta name=twitter:title content="How to refresh token seamlessly"><meta name=twitter:description content="In front-end development, implementing seamless token refresh is usually to maintain the user‚Äôs login status and ensure the validity of their access permissions."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nENIDWcdJkPzfhte4UmYNQ.png'><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu1157332405703967761.jpeg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üç•</span></figure><div class=site-meta><h1 class=site-name><a href=/>SK Story</a></h1><h2 class=site-description>Shawn King's Stories Website</h2></div></header><ol class=menu-social><li><a href=mailto:kxming0229@gmail.com target=_blank title=Email rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=https://www.facebook.com/p/King-Shawn-100092679065959/ target=_blank title=Facebook rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-facebook"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 10v4h3v7h4v-7h3l1-4h-4V8a1 1 0 011-1h3V3h-3a5 5 0 00-5 5v2H7"/></svg></a></li><li><a href=https://twitter.com/ShawnKxming target=_blank title=Twitter rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4l11.733 16H20L8.267 4z"/><path d="M4 20l6.768-6.768m2.46-2.46L20 4"/></svg></a></li><li><a href=https://t.me/shawnkxming target=_blank title=Telegram rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-telegram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4 6 6 4-16-18 7 4 2 2 6 3-4"/></svg></a></li><li><a href=https://medium.com/@kxming target=_blank title=Medium rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-medium"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4m0 2a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2z"/><path d="M8 9h1l3 3 3-3h1"/><path d="M8 15h2"/><path d="M14 15h2"/><path d="M9 9v6"/><path d="M15 9v6"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#implementation-principle>Implementation principle</a><ol><li><a href=#example>Example:</a></li></ol></li><li><a href=#how-to-handle-other-requests-sent-while-the-token-is-still-being-refreshed>How to handle other requests sent while the token is still being refreshed?</a><ol><li><a href=#example-1>Example:</a></li><li><a href=#queueing-requests>Queueing Requests</a></li><li><a href=#considerations>Considerations</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/how-to-refresh-token-seamlessly/><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nENIDWcdJkPzfhte4UmYNQ.png loading=lazy alt="Featured image of post How to refresh token seamlessly"></a></div><div class=article-details><header class=article-category><a href=/categories/code/>Code
</a><a href=/categories/javascript/ style=background-color:#d1d419;color:#fff>Javascript</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/how-to-refresh-token-seamlessly/>How to refresh token seamlessly</a></h2><h3 class=article-subtitle>In front-end development, implementing seamless token refresh is usually to maintain the user‚Äôs login status and ensure the validity of their access permissions.</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jun 07, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>8 minute read</time></div></footer></div></header><section class=article-content><p>In front-end development, implementing seamless token refresh is usually to maintain the user‚Äôs login status and ensure the validity of their access permissions.</p><h2 id=implementation-principle>Implementation principle</h2><p>The implementation of seamless token refresh typically involves the following steps:</p><ul><li><p><strong>Token Expiration Time</strong>: Initially, the server assigns an expiration time to each token, such as 30 minutes or 1 hour. During this period, users can use the token to access protected resources.</p></li><li><p><strong>Regular Checks</strong>: The front-end application periodically checks the token‚Äôs expiration during user activity. This is usually accomplished through polling or a heartbeat mechanism, which involves sending a request to the server at set intervals to check if the token is still valid.</p></li><li><p><strong>Refresh Token</strong>: If the server indicates the token is expired, the front-end application will immediately make a new request to the authentication server using a refreshToken (typically, the backend will provide a long-term refreshToken and a short-term accessToken, where ‚Äòlong‚Äô and ‚Äòshort‚Äô refer to the expiration time; the refreshToken is stored in local storage to request a new accessToken from the backend, and the accessToken is used in the request headers to access protected endpoints) to obtain a new access token.</p></li><li><p><strong>Seamless Transition</strong>: After obtaining the new token, the front-end application will update the token stored locally and continue the previous actions with the new token, thereby providing a seamless user experience.</p></li></ul><h3 id=example>Example:</h3><p>Here is a simple example showing how to implement seamless token refresh in a front-end application:</p><ul><li><p><strong>Set Token Expiration Time</strong>: Assume the server sets a 30-minute expiration time for each token.</p></li><li><p><strong>Regular Checks</strong>: The front-end application sends a request to the server every 5 minutes to check the current token‚Äôs validity.</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>// Use setInterval to send heartbeat requests periodically
</span></span><span class=line><span class=cl>setInterval(() =&gt; {
</span></span><span class=line><span class=cl>  checkTokenValidity();
</span></span><span class=line><span class=cl>}, 5 * 60 * 1000); // every 5 minutes
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>Check Token Validity</strong>: The front-end application sends a heartbeat request to the server, which returns information about whether the token is valid or not.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>async</span> <span class=n>function</span> <span class=n>checkTokenValidity</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=n>response</span> <span class=o>=</span> <span class=n>await</span> <span class=n>fetch</span><span class=p>(</span><span class=s1>&#39;/api/heartbeat&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>headers</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Authorization</span><span class=p>:</span> <span class=err>`</span><span class=n>Bearer</span> <span class=o>$</span><span class=p>{</span><span class=n>localStorage</span><span class=o>.</span><span class=n>getItem</span><span class=p>(</span><span class=s1>&#39;token&#39;</span><span class=p>)}</span><span class=err>`</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>response</span><span class=o>.</span><span class=n>ok</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=o>//</span> <span class=n>Token</span> <span class=n>expired</span><span class=p>,</span> <span class=n>refresh</span> <span class=n>needed</span>
</span></span><span class=line><span class=cl>      <span class=n>refreshToken</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=n>catch</span> <span class=p>(</span><span class=n>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Handle</span> <span class=n>errors</span>
</span></span><span class=line><span class=cl>    <span class=n>console</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s1>&#39;Error checking token validity:&#39;</span><span class=p>,</span> <span class=n>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>Refresh Token</strong>: If the token has expired, the front-end application makes a request to the authentication server to obtain a new access token.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>async</span> <span class=n>function</span> <span class=n>refreshToken</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=n>response</span> <span class=o>=</span> <span class=n>await</span> <span class=n>fetch</span><span class=p>(</span><span class=s1>&#39;/api/auth/refresh&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>method</span><span class=p>:</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>headers</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Content-Type&#39;</span><span class=p>:</span> <span class=s1>&#39;application/json&#39;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=n>body</span><span class=p>:</span> <span class=n>JSON</span><span class=o>.</span><span class=n>stringify</span><span class=p>({</span>
</span></span><span class=line><span class=cl>        <span class=n>refreshToken</span><span class=p>:</span> <span class=n>localStorage</span><span class=o>.</span><span class=n>getItem</span><span class=p>(</span><span class=s1>&#39;refreshToken&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>ok</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>const</span> <span class=n>data</span> <span class=o>=</span> <span class=n>await</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=o>//</span> <span class=n>Update</span> <span class=n>the</span> <span class=n>tokens</span> <span class=ow>in</span> <span class=n>local</span> <span class=n>storage</span>
</span></span><span class=line><span class=cl>      <span class=n>localStorage</span><span class=o>.</span><span class=n>setItem</span><span class=p>(</span><span class=s1>&#39;accessToken&#39;</span><span class=p>,</span> <span class=n>data</span><span class=o>.</span><span class=n>accessToken</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=o>//</span> <span class=n>Handle</span> <span class=n>failed</span> <span class=n>token</span> <span class=n>refresh</span><span class=p>,</span> <span class=k>for</span> <span class=n>example</span><span class=p>,</span> <span class=n>prompt</span> <span class=n>the</span> <span class=n>user</span> <span class=n>to</span> <span class=nb>log</span> <span class=ow>in</span> <span class=n>again</span>
</span></span><span class=line><span class=cl>      <span class=n>console</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s1>&#39;Failed to refresh token:&#39;</span><span class=p>,</span> <span class=n>response</span><span class=o>.</span><span class=n>status</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=n>catch</span> <span class=p>(</span><span class=n>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Handle</span> <span class=n>errors</span>
</span></span><span class=line><span class=cl>    <span class=n>console</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s1>&#39;Error refreshing token:&#39;</span><span class=p>,</span> <span class=n>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>In this example, the front-end application maintains user login status and provides a seamless user experience by regularly checking token validity and seamlessly refreshing the token upon expiration. For security reasons, it‚Äôs important to note that the refreshToken should also have an expiration time, after which users are required to log in again.</p><hr><h2 id=how-to-handle-other-requests-sent-while-the-token-is-still-being-refreshed>How to handle other requests sent while the token is still being refreshed?</h2><p>If the token refresh isn‚Äôt complete yet and you‚Äôve sent other requests with the old token to the server, you might encounter the following situations:</p><p><strong>Request Denied</strong>: If the server detects that the token has expired, it may return a 401 Unauthorized or a similar error status code. In this case, you need to catch these errors and try to resend these requests with the new token after catching the errors.</p><p>To handle these situations, you can adopt the following strategies:</p><ol><li><p><strong>Error Handling</strong>: Ensure your application can catch and handle 401 Unauthorized or other related errors. When these errors are caught, you can try to resend the requests with the new token.</p></li><li><p><strong>Retry Mechanism</strong>: Implement a request retry mechanism that allows for automatic or manual retries with a new token when a request fails. You can use an exponential backoff strategy to avoid putting pressure on the server with frequent retries.</p></li><li><p><strong>State Management</strong>: During token refresh, you can set the application state to ‚Äúrefreshing token‚Äù and prevent sending new requests until a new token is obtained. This avoids sending more requests with an invalid token.</p></li><li><p><strong>Queue Requests</strong>: Instead of immediately sending requests after the token expires, you can queue them and send them sequentially once the new token is obtained. This can be accomplished using Promise.all or other asynchronous processing techniques.</p></li><li><p><strong>Front-End Notification</strong>: After the token expires, you can display a notification on the front end informing the user that the token is being refreshed and that they may need to wait a while or login again.</p></li></ol><h3 id=example-1>Example:</h3><p>This example shows how to resend requests using a new token after capturing a 401 error:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>//</span> <span class=n>Assume</span> <span class=n>this</span> <span class=n>is</span> <span class=n>your</span> <span class=n>API</span> <span class=n>request</span> <span class=n>function</span>
</span></span><span class=line><span class=cl><span class=n>async</span> <span class=n>function</span> <span class=n>apiRequest</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>token</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=n>response</span> <span class=o>=</span> <span class=n>await</span> <span class=n>fetch</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>headers</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Authorization</span><span class=p>:</span> <span class=err>`</span><span class=n>Bearer</span> <span class=o>$</span><span class=p>{</span><span class=n>token</span><span class=p>}</span><span class=err>`</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>response</span><span class=o>.</span><span class=n>ok</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>throw</span> <span class=n>new</span> <span class=n>Error</span><span class=p>(</span><span class=err>`</span><span class=n>Request</span> <span class=n>failed</span> <span class=n>with</span> <span class=n>status</span> <span class=o>$</span><span class=p>{</span><span class=n>response</span><span class=o>.</span><span class=n>status</span><span class=p>}</span><span class=err>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=n>catch</span> <span class=p>(</span><span class=n>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>error</span><span class=o>.</span><span class=n>message</span><span class=o>.</span><span class=n>includes</span><span class=p>(</span><span class=s1>&#39;401&#39;</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=n>newToken</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=o>//</span> <span class=n>Try</span> <span class=n>resending</span> <span class=n>the</span> <span class=n>request</span> <span class=n>with</span> <span class=n>the</span> <span class=n>new</span> <span class=n>token</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=n>apiRequest</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>newToken</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>throw</span> <span class=n>error</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Assume</span> <span class=n>this</span> <span class=n>is</span> <span class=n>your</span> <span class=n>token</span> <span class=n>refresh</span> <span class=n>function</span>
</span></span><span class=line><span class=cl><span class=n>let</span> <span class=n>newToken</span> <span class=o>=</span> <span class=n>null</span><span class=p>;</span> <span class=o>//</span> <span class=n>Variable</span> <span class=n>to</span> <span class=n>store</span> <span class=n>the</span> <span class=n>new</span> <span class=n>token</span>
</span></span><span class=line><span class=cl><span class=n>async</span> <span class=n>function</span> <span class=n>refreshToken</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=n>response</span> <span class=o>=</span> <span class=n>await</span> <span class=n>fetch</span><span class=p>(</span><span class=s1>&#39;/api/auth/refresh&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=o>//</span> <span class=o>...</span> <span class=n>code</span> <span class=k>for</span> <span class=n>sending</span> <span class=n>refresh</span> <span class=n>request</span> <span class=o>...</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>ok</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>const</span> <span class=n>data</span> <span class=o>=</span> <span class=n>await</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=n>newToken</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>token</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=n>catch</span> <span class=p>(</span><span class=n>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Handle</span> <span class=n>error</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Call</span> <span class=n>this</span> <span class=n>function</span> <span class=n>when</span> <span class=n>the</span> <span class=n>token</span> <span class=n>expires</span>
</span></span><span class=line><span class=cl><span class=n>async</span> <span class=n>function</span> <span class=n>handleTokenExpiration</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Try</span> <span class=n>refreshing</span> <span class=n>the</span> <span class=n>token</span>
</span></span><span class=line><span class=cl>    <span class=n>await</span> <span class=n>refreshToken</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Assume</span> <span class=n>this</span> <span class=n>is</span> <span class=n>the</span> <span class=n>array</span> <span class=n>of</span> <span class=n>failed</span> <span class=n>requests</span> <span class=n>due</span> <span class=n>to</span> <span class=n>token</span> <span class=n>expiration</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=n>failedRequests</span> <span class=o>=</span> <span class=p>[</span><span class=o>/*</span> <span class=o>...</span> <span class=o>*/</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Resend</span> <span class=n>requests</span> <span class=n>using</span> <span class=n>the</span> <span class=n>new</span> <span class=n>token</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=k>const</span> <span class=n>request</span> <span class=n>of</span> <span class=n>failedRequests</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>const</span> <span class=n>response</span> <span class=o>=</span> <span class=n>await</span> <span class=n>apiRequest</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>url</span><span class=p>,</span> <span class=n>newToken</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=o>//</span> <span class=n>Process</span> <span class=n>response</span> <span class=ow>or</span> <span class=n>update</span> <span class=n>application</span> <span class=n>state</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=n>catch</span> <span class=p>(</span><span class=n>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=o>//</span> <span class=n>Handle</span> <span class=n>errors</span> <span class=k>while</span> <span class=n>resending</span> <span class=n>requests</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=n>catch</span> <span class=p>(</span><span class=n>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>Handle</span> <span class=n>errors</span> <span class=k>while</span> <span class=n>refreshing</span> <span class=n>the</span> <span class=n>token</span> <span class=ow>or</span> <span class=n>resending</span> <span class=n>requests</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>In this example, the apiRequest function checks if there is a new token available when encountering a 401 error and tries to resend the request using the new token. The handleTokenExpiration function is responsible for refreshing the token when it expires and resending previously failed requests.</p><h3 id=queueing-requests>Queueing Requests</h3><p>The implementation of queued requests primarily utilizes a queue data structure to manage pending requests. When a request needs to be delayed for some reason (such as a token expiration), we can place this request in a queue and wait for conditions to be met (like receiving a new token) before processing the request from the queue.</p><p>Below is a simple example to illustrate implementing queued requests:</p><p><strong>1. Create a Request Queue</strong></p><p>First, we need a queue to store pending requests. This queue can be an array or a linked list in memory, or it could use existing queue libraries (such as JavaScript‚Äôs <code>Array.prototype.queue</code> or the <code>queue-promise</code> library).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>let requestQueue = []; // Use an array as a simple queue implementation
</span></span></code></pre></td></tr></table></div></div><p><strong>2. Enqueue Operation</strong></p><p>When we need to delay processing a request, we add it to the end of the queue.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>function enqueueRequest(request) {
</span></span><span class=line><span class=cl>  requestQueue.push(request);
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p><strong>3. Dequeue Operation</strong></p><p>Once conditions are met (like a new token being available), we process a request from the head of the queue and repeat this process until the queue is empty.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>async</span> <span class=n>function</span> <span class=n>dequeueAndProcessRequests</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>while</span> <span class=p>(</span><span class=n>requestQueue</span><span class=o>.</span><span class=n>length</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=n>request</span> <span class=o>=</span> <span class=n>requestQueue</span><span class=o>.</span><span class=n>shift</span><span class=p>();</span> <span class=o>//</span> <span class=n>Take</span> <span class=n>a</span> <span class=n>request</span> <span class=n>from</span> <span class=n>the</span> <span class=n>head</span> <span class=n>of</span> <span class=n>the</span> <span class=n>queue</span>
</span></span><span class=line><span class=cl>    <span class=n>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>const</span> <span class=n>response</span> <span class=o>=</span> <span class=n>await</span> <span class=n>processRequest</span><span class=p>(</span><span class=n>request</span><span class=p>);</span> <span class=o>//</span> <span class=n>Process</span> <span class=n>the</span> <span class=n>request</span>
</span></span><span class=line><span class=cl>      <span class=o>//</span> <span class=n>Process</span> <span class=n>response</span> <span class=ow>or</span> <span class=n>update</span> <span class=n>application</span> <span class=n>state</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=n>catch</span> <span class=p>(</span><span class=n>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=o>//</span> <span class=n>Handle</span> <span class=n>errors</span> <span class=n>during</span> <span class=n>request</span> <span class=n>processing</span>
</span></span><span class=line><span class=cl>      <span class=n>console</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s1>&#39;Error processing request:&#39;</span><span class=p>,</span> <span class=n>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>4. Process Requests</strong></p><p>The <code>processRequest</code> function is responsible for the actual request processing logic. In this function, you can send HTTP requests, update the UI, etc.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>async</span> <span class=n>function</span> <span class=n>processRequest</span><span class=p>(</span><span class=n>request</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=o>//</span> <span class=n>Here</span> <span class=n>is</span> <span class=n>the</span> <span class=n>logic</span> <span class=k>for</span> <span class=n>processing</span> <span class=n>the</span> <span class=n>request</span><span class=p>,</span> <span class=n>like</span> <span class=n>sending</span> <span class=n>an</span> <span class=n>HTTP</span> <span class=n>request</span>
</span></span><span class=line><span class=cl>  <span class=k>const</span> <span class=n>response</span> <span class=o>=</span> <span class=n>await</span> <span class=n>fetch</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>url</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>Authorization</span><span class=p>:</span> <span class=err>`</span><span class=n>Bearer</span> <span class=o>$</span><span class=p>{</span><span class=n>newToken</span><span class=p>}</span><span class=err>`</span> <span class=o>//</span> <span class=n>Use</span> <span class=n>the</span> <span class=n>new</span> <span class=n>token</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>();</span> <span class=o>//</span> <span class=n>Return</span> <span class=n>the</span> <span class=n>processing</span> <span class=n>result</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>5. Usage Example</strong></p><p>When the token expires, we can queue requests that need to be delayed for processing, and then try to refresh the token. Once we get the new token, we process the requests from the queue.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=o>//</span> <span class=n>Suppose</span> <span class=n>this</span> <span class=n>is</span> <span class=n>a</span> <span class=n>request</span> <span class=n>that</span> <span class=n>needs</span> <span class=n>to</span> <span class=n>be</span> <span class=n>delayed</span> <span class=n>due</span> <span class=n>to</span> <span class=n>token</span> <span class=n>expiration</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>delayedRequest</span> <span class=o>=</span> <span class=p>{</span> <span class=n>url</span><span class=p>:</span> <span class=s1>&#39;/api/data&#39;</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Add</span> <span class=n>the</span> <span class=n>request</span> <span class=n>to</span> <span class=n>the</span> <span class=n>queue</span>
</span></span><span class=line><span class=cl><span class=n>enqueueRequest</span><span class=p>(</span><span class=n>delayedRequest</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Try</span> <span class=n>refreshing</span> <span class=n>the</span> <span class=n>token</span>
</span></span><span class=line><span class=cl><span class=n>await</span> <span class=n>refreshToken</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=o>//</span> <span class=n>Process</span> <span class=n>the</span> <span class=n>requests</span> <span class=ow>in</span> <span class=n>the</span> <span class=n>queue</span>
</span></span><span class=line><span class=cl><span class=n>await</span> <span class=n>dequeueAndProcessRequests</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=considerations>Considerations</h3><ul><li><p><strong>Queue Size Management</strong>: If the request queue becomes very large, it might consume a lot of memory. You might need to implement strategies to limit the queue size, such as setting a maximum length or discarding the oldest requests.</p></li><li><p><strong>Error Handling</strong>: Ensure proper error handling when processing requests and responses to avoid application crashes or unpredictable behavior.</p></li><li><p><strong>Concurrency Control</strong>: If your application needs to handle a large number of concurrent requests, you might need mechanisms to control the concurrency, such as using Promise.all to limit the number of requests processed simultaneously.</p></li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/code/>Code</a>
<a href=/tags/javascript/>Javascript</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/advanced-usage-of-reduce-you-might-not-know/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h7QTz6KqyeYG_ausGQjj5g.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h7QTz6KqyeYG_ausGQjj5g.jpeg></div><div class=article-details><h2 class=article-title>Advanced Usage of Reduce You Might Not Know</h2></div></a></article><article class=has-image><a href=/p/vue3-performance-optimization-code-level-optimization/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZsES-HkGUvu6TkmfmNMBA.png loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZsES-HkGUvu6TkmfmNMBA.png></div><div class=article-details><h2 class=article-title>Vue3 Performance Optimization ‚Äî Code-Level Optimization</h2></div></a></article><article class=has-image><a href=/p/vue3-performance-optimization-bundle-optimization/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZsES-HkGUvu6TkmfmNMBA.png loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZsES-HkGUvu6TkmfmNMBA.png></div><div class=article-details><h2 class=article-title>Vue3 Performance Optimization ‚Äî Bundle Optimization</h2></div></a></article><article class=has-image><a href=/p/how-much-do-you-know-about-29-javascript-object-methods/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l_w8hkehf25Nx3H_AzEVbQ.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l_w8hkehf25Nx3H_AzEVbQ.jpeg></div><div class=article-details><h2 class=article-title>How Much Do You Know About 29 JavaScript Object Methods?</h2></div></a></article><article class=has-image><a href=/p/most-of-the-books-youve-read-are-mostly-forgotten-so-why-keep-reading/><div class=article-image><img src=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zm-09l_F3UwVf2IneHGHew.jpeg loading=lazy data-key data-hash=https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zm-09l_F3UwVf2IneHGHew.jpeg></div><div class=article-details><h2 class=article-title>Most of the books you‚Äôve read are mostly forgotten, so why keep reading?</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=kxming/skstory data-repo-id=R_kgDOLehX4A data-category=Announcements data-category-id=DIC_kwDOLehX4M4Cd4Vx data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en-us data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2024 SK Story</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>