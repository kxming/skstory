<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="What performance optimizations can be done on the frontend?">
<title>What optimizations can be utilized for frontend performance?</title>

<link rel='canonical' href='http://localhost:1313/p/what-optimizations-can-be-utilized-for-frontend-performance/'>

<link rel="stylesheet" href="/scss/style.min.d8118f156935b64eca93aca758476adca858d2c47354971654d9bd2933a0e45f.css"><meta property='og:title' content="What optimizations can be utilized for frontend performance?">
<meta property='og:description' content="What performance optimizations can be done on the frontend?">
<meta property='og:url' content='http://localhost:1313/p/what-optimizations-can-be-utilized-for-frontend-performance/'>
<meta property='og:site_name' content='SK Story'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Javascript' /><meta property='article:published_time' content='2024-02-05T16:22:38&#43;08:00'/><meta property='article:modified_time' content='2024-02-05T16:22:38&#43;08:00'/><meta property='og:image' content='https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vM6ivAKAsNWxg9akN3MLSA.jpeg' />
<meta name="twitter:site" content="@https://twitter.com/ShawnKxming">
    <meta name="twitter:creator" content="@https://twitter.com/ShawnKxming"><meta name="twitter:title" content="What optimizations can be utilized for frontend performance?">
<meta name="twitter:description" content="What performance optimizations can be done on the frontend?"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vM6ivAKAsNWxg9akN3MLSA.jpeg' />
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu61f49258472ba116407e56a959fa113d_189154_300x0_resize_q75_box.jpeg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">SK Story</a></h1>
            <h2 class="site-description">Shawn King&#39;s Stories Website</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='mailto:kxming0229@gmail.com'
                        target="_blank"
                        title="Email"
                        rel="me"
                    >
                        
                        
                            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z" /><path d="M3 7l9 6l9 -6" /></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://www.facebook.com/p/King-Shawn-100092679065959/'
                        target="_blank"
                        title="Facebook"
                        rel="me"
                    >
                        
                        
                            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-brand-facebook"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" /></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com/ShawnKxming'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-brand-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4l11.733 16h4.267l-11.733 -16z" /><path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" /></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://t.me/shawnkxming'
                        target="_blank"
                        title="Telegram"
                        rel="me"
                    >
                        
                        
                            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-brand-telegram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4" /></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://medium.com/@kxming'
                        target="_blank"
                        title="Medium"
                        rel="me"
                    >
                        
                        
                            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-brand-medium"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z" /><path d="M8 9h1l3 3l3 -3h1" /><path d="M8 15l2 0" /><path d="M14 15l2 0" /><path d="M9 9l0 6" /><path d="M15 9l0 6" /></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#network-optimization">Network Optimization</a>
      <ol>
        <li><a href="#dns-pre-fetching">DNS Pre-fetching</a></li>
        <li><a href="#use-cache">Use Cache</a></li>
        <li><a href="#use-the-cdn-content-distribution-network">Use the CDN (Content Distribution Network)</a></li>
        <li><a href="#compress-responses">Compress Responses</a></li>
        <li><a href="#use-multiple-domains">Use Multiple Domains</a></li>
        <li><a href="#avoid-null-image-src">Avoid Null Image src</a></li>
      </ol>
    </li>
    <li><a href="#page-rendering-optimization">Page Rendering Optimization</a>
      <ol>
        <li><a href="#process-of-webkit-rendering-engine">Process of Webkit rendering engine</a></li>
        <li><a href="#avoid-css-blocking">Avoid CSS blocking</a></li>
        <li><a href="#reduce-the-complexity-of-css-selectors">Reduce the complexity of CSS selectors</a></li>
        <li><a href="#avoid-using-css-expressions">Avoid using CSS expressions</a></li>
        <li><a href="#avoid-js-blocking">Avoid JS blocking</a></li>
        <li><a href="#use-externally-linked-js-and-css">Use externally linked JS and CSS</a></li>
        <li><a href="#use-font-icons-iconfont-instead-of-image-icons">Use font icons (Iconfont) instead of image icons</a></li>
        <li><a href="#first-screen-load-optimization">First Screen Load Optimization</a></li>
        <li><a href="#reduce-repaint-and-reflow">Reduce Repaint and Reflow</a></li>
      </ol>
    </li>
    <li><a href="#performance-optimization-in-js">Performance Optimization in JS</a>
      <ol>
        <li><a href="#use-event-delegation">Use event delegation</a></li>
        <li><a href="#implement-debounce-and-throttle">Implement debounce and throttle</a></li>
        <li><a href="#try-not-to-use-js-animations">Try not to use JS animations.</a></li>
        <li><a href="#multithreading">Multithreading</a></li>
        <li><a href="#cache-calculation-results">Cache Calculation Results</a></li>
      </ol>
    </li>
    <li><a href="#image-optimization">Image Optimization</a>
      <ol>
        <li><a href="#using-sprites">Using Sprites</a></li>
        <li><a href="#lazy-loading-images">Lazy Loading Images</a></li>
        <li><a href="#use-css3-instead-of-images">Use CSS3 Instead of Images</a></li>
        <li><a href="#image-compression">Image Compression</a></li>
        <li><a href="#use-progressive-jpeg">Use Progressive JPEG</a></li>
        <li><a href="#use-webp-format-images">Use WebP Format Images</a></li>
      </ol>
    </li>
    <li><a href="#webpack-packaging-optimization">Webpack Packaging Optimization</a>
      <ol>
        <li><a href="#narrow-down-the-range-of-loader-matches">Narrow Down the Range of Loader Matches</a></li>
        <li><a href="#resolvemodules">Resolve.Modules</a></li>
        <li><a href="#resolveextensions">Resolve.Extensions</a></li>
        <li><a href="#extract-css">Extract CSS</a></li>
        <li><a href="#code-compression">Code Compression</a></li>
        <li><a href="#tree-shaking-to-remove-dead-code">Tree Shaking to Remove Dead Code</a></li>
        <li><a href="#code-splitting">Code Splitting</a></li>
      </ol>
    </li>
    <li><a href="#vue">Vue</a></li>
    <li><a href="#react">React</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/what-optimizations-can-be-utilized-for-frontend-performance/">
                
                    <img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vM6ivAKAsNWxg9akN3MLSA.jpeg" loading="lazy" alt="Featured image of post What optimizations can be utilized for frontend performance?" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/javascript/" style="background-color: #D1D419; color: #fff;">
                Javascript
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/what-optimizations-can-be-utilized-for-frontend-performance/">What optimizations can be utilized for frontend performance?</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            What performance optimizations can be done on the frontend?
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Feb 05, 2024</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    13 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <p>In an interview, I was asked about frontend performance optimizations. After a series of answers, the interviewer further asked: What performance optimizations can be done on the frontend?</p>
<p>Frontend optimizations can be approached in several directions:</p>
<ul>
<li>
<p>Network Optimization</p>
</li>
<li>
<p>Page Rendering Optimization</p>
</li>
<li>
<p>JS Optimization</p>
</li>
<li>
<p>Image Optimization</p>
</li>
<li>
<p>webpack Packaging Optimization</p>
</li>
<li>
<p>React Optimization</p>
</li>
<li>
<p>Vue Optimization</p>
</li>
</ul>
<hr>
<h2 id="network-optimization">Network Optimization</h2>
<h3 id="dns-pre-fetching">DNS Pre-fetching</h3>
<p>Use the rel attribute of the link tag to set dns-prefetch and get the IP address corresponding to the domain name in advance.</p>
<h3 id="use-cache">Use Cache</h3>
<p>educe server pressure and quickly get data (see here for strong cache and negotiated cache).</p>
<h3 id="use-the-cdn-content-distribution-network">Use the CDN (Content Distribution Network)</h3>
<p>The physical distance between the user and the server also affects the response time.</p>
<h3 id="compress-responses">Compress Responses</h3>
<p>Reduce the size of the response package generated by HTTP requests to improve performance by decreasing transmission time.</p>
<h3 id="use-multiple-domains">Use Multiple Domains</h3>
<p>Modern browsers such as Chrome will have the same domain name limit and concurrent download number. Using different domain names can maximize download threads, but try to keep within 2~4 domain names to avoid DNS query loss.</p>
<h3 id="avoid-null-image-src">Avoid Null Image src</h3>
<p>Empty string for src attribute still makes the browser issue an HTTP request to the server.</p>
<p>IE sends a request to the directory where the page is located; Safari, Chrome, and Firefox send a request to the page itself; Opera does not perform any operation.</p>
<h2 id="page-rendering-optimization">Page Rendering Optimization</h2>
<h3 id="process-of-webkit-rendering-engine">Process of Webkit rendering engine</h3>
<ul>
<li>
<p>Handles HTML and builds a DOM tree</p>
</li>
<li>
<p>Handles CSS and builds a CSS rules tree (CSSOM)</p>
</li>
<li>
<p>Merges the DOM Tree and CSSOM Tree to form a Render Tree.</p>
</li>
<li>
<p>Layouts according to the Render Tree and calculates the position of each node</p>
</li>
<li>
<p>Calls GPU drawing, composites layers, and displays on the screen</p>
</li>
</ul>
<h3 id="avoid-css-blocking">Avoid CSS blocking</h3>
<p>CSS affects the construction of the Render Tree and may block page rendering. Therefore, you should try to load the CSS resource as early (put the CSS in the head tag) and as fast (use CDN to optimize the loading speed of static resources) as possible.</p>
<h3 id="reduce-the-complexity-of-css-selectors">Reduce the complexity of CSS selectors</h3>
<p>Browsers read selectors from right to left.</p>
<ul>
<li>
<p>Reduce nesting: Don‚Äôt exceed three levels, and be cautious about using descendant selectors, which have high costs.</p>
</li>
<li>
<p>Avoid using universal selectors, match only the elements needed</p>
</li>
<li>
<p>Take advantage of inheritance, avoid repetitive matches and definitions</p>
</li>
<li>
<p>Use class selectors and id selectors correctly</p>
</li>
</ul>
<h3 id="avoid-using-css-expressions">Avoid using CSS expressions</h3>
<p>CSS expressions are calculated frequently.</p>
<h3 id="avoid-js-blocking">Avoid JS blocking</h3>
<p>JS can modify CSSOM and DOM, so JS can block the parsing and rendering of pages, and it will wait for the loading of CSS resources. In other words, JS will take over control of the rendering engine. Therefore, we need to add defer or async to our JS resources to delay the execution of JS scripts.</p>
<h3 id="use-externally-linked-js-and-css">Use externally linked JS and CSS</h3>
<p>In real environments, using external files generally leads to faster pages because JavaScript and CSS have a chance to be cached by the browser. For inline situations, HTML documents usually aren‚Äôt configured to be cacheable, so for every HTML document request, JavaScript and CSS need to be downloaded. Therefore, if JavaScript and CSS are in external files, the browser can cache them, the size of HTML documents will be reduced without increasing the number of HTTP requests.</p>
<h3 id="use-font-icons-iconfont-instead-of-image-icons">Use font icons (Iconfont) instead of image icons</h3>
<ul>
<li>
<p>Images increase the number of network requests, thereby slowing down page load time.</p>
</li>
<li>
<p>Iconfont can scale well and won‚Äôt add extra requests.</p>
</li>
</ul>
<h3 id="first-screen-load-optimization">First Screen Load Optimization</h3>
<ul>
<li>
<p>Use a skeleton screen or animation to optimize user experience</p>
</li>
<li>
<p>Load resources on demand; delay loading of resources not needed on the homepage</p>
</li>
</ul>
<h3 id="reduce-repaint-and-reflow">Reduce Repaint and Reflow</h3>
<ul>
<li>
<p>Add multiple nodes using documentFragment: This is not part of the actual DOM, and will not cause repaint and reflow</p>
</li>
<li>
<p>Use translate instead of top because top will trigger reflow, but translate will not. So translate saves one layout time compared to top</p>
</li>
<li>
<p>Replace display: none with visibility, because the former will only cause repaint, while the latter will trigger reflow (changing the layout); replace visibility with opacity, visibility will trigger repaint (paint), but opacity won‚Äôt.</p>
</li>
<li>
<p>Modify the DOM offline, for example: First set the DOM to display:none (causing one reflow), then you modify it 100 times, and then display it again</p>
</li>
<li>
<p>Don‚Äôt put the property values of DOM nodes in a loop as variables of the loop.</p>
</li>
</ul>
<p>For example in Javascript:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">for (let i = 0; i &lt; 1000; i++) {
</span></span><span class="line"><span class="cl">  // Getting offsetTop will cause a reflow because you need to get the correct value
</span></span><span class="line"><span class="cl">  console.log(document.querySelector(&#39;.test&#39;).style.offsetTop)
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>Try to use table layout less, because every time a cell‚Äôs layout changes, the entire table will go through reflow and repaint.</p>
</li>
<li>
<p>Don‚Äôt frequently manipulate DOM nodes. It‚Äôs better to write the styles that need to be manipulated into classes in advance, and then modify them when needed. A single reflow and repaint is much less costly than multiple reflows and repaints.</p>
</li>
<li>
<p>Choose the speed of animation implementation. The faster the animation speed, the more reflows, you can also choose to use requestAnimationFrame.</p>
</li>
<li>
<p>Every time you access the offset attributes of the DOM, such as getting an element‚Äôs scrollTop, scrollLeft, scrollWidth, offsetTop, offsetLeft, offsetWidth, offsetHeight, etc., the browser will reflow to get the latest value in order to ensure the correctness of the value. Therefore, if you need to operate multiple times, take a cache after the extraction. And don‚Äôt access DOM offset attributes in a for loop. When used, it is best to define a variable and assign the needed value to it, cache the value, and reduce the number of reflows and repaints.</p>
</li>
<li>
<p>Convert frequently running animations to layers. Layers can prevent this node‚Äôs reflow from affecting other elements. For example, for the video tag, the browser will automatically turn this node into a layer.</p>
</li>
</ul>
<h2 id="performance-optimization-in-js">Performance Optimization in JS</h2>
<h3 id="use-event-delegation">Use event delegation</h3>
<h3 id="implement-debounce-and-throttle">Implement debounce and throttle</h3>
<h3 id="try-not-to-use-js-animations">Try not to use JS animations.</h3>
<p>CSS3 animations and canvas animations perform better than JS animations.</p>
<h3 id="multithreading">Multithreading</h3>
<p>Start a webWorker for complex calculations to avoid page freezing.</p>
<h3 id="cache-calculation-results">Cache Calculation Results</h3>
<p>Reduce the number of calculations, such as using computed in Vue.</p>
<h2 id="image-optimization">Image Optimization</h2>
<h3 id="using-sprites">Using Sprites</h3>
<p>Optimize by reducing the number of HTTP requests.</p>
<h3 id="lazy-loading-images">Lazy Loading Images</h3>
<p>Load the image as it is about to enter the viewport (For how to judge whether the image enters the viewport, please refer to <a class="link" href="https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading"  target="_blank" rel="noopener"
    >here</a>)</p>
<h3 id="use-css3-instead-of-images">Use CSS3 Instead of Images</h3>
<p>There are many images that can be drawn with CSS effects (gradients, shadows, etc.). In this case, choosing CSS3 effects is better.</p>
<h3 id="image-compression">Image Compression</h3>
<p>There are two ways to compress images. One is to compress them through an online website. The other is to use the webpack plugin image-webpack-loader, which is based on the Node library imagemin for image compression.</p>
<h3 id="use-progressive-jpeg">Use Progressive JPEG</h3>
<p>Using <a class="link" href="https://medium.com/hd-pro/jpeg-formats-progressive-vs-baseline-73b3938c2339"  target="_blank" rel="noopener"
    >progressive JPEG</a> will improve the user experience.</p>
<h3 id="use-webp-format-images">Use WebP Format Images</h3>
<p>WebP is a new image file format that provides both lossy and lossless compression. With the same image quality, the volume of WebP is smaller than PNG and JPG.</p>
<h2 id="webpack-packaging-optimization">Webpack Packaging Optimization</h2>
<h3 id="narrow-down-the-range-of-loader-matches">Narrow Down the Range of Loader Matches</h3>
<ul>
<li>
<p>Optimize loader configuration</p>
</li>
<li>
<p>Use the three configuration items test, include, exclude to narrow down the processing range of the loader.</p>
</li>
<li>
<p>It‚Äôs recommended to use include.</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">include: path.resolve(__dirname, &#34;./src&#34;),
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="resolvemodules">Resolve.Modules</h3>
<p>resolve.modules is used to configure which directories webpack goes to look for third-party modules, by default it‚Äôs <code>node_modules</code>.</p>
<p>By default, it looks for third-party modules in the <code>node_modules</code> directory under the current project directory. If it doesn‚Äôt find them, it will go to the <code>../node_modules</code> directory above. If it doesn‚Äôt find them there, it will go to the <code>../../node_modules</code> directory, and so on. This is similar to Node.js module search mechanism.</p>
<p>If we install all third-party modules in the root directory of the project, we can specify this path directly.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">module</span><span class="o">.</span><span class="n">exports</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="n">resolve</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl"> <span class="n">modules</span><span class="p">:</span> <span class="p">[</span><span class="n">path</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">__dirname</span><span class="p">,</span> <span class="s2">&#34;./node_modules&#34;</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="resolveextensions">Resolve.Extensions</h3>
<p>If the import statement does not have a file suffix, webpack will automatically add the suffix and then try to find out whether the file exists or not.</p>
<ul>
<li>
<p>Keep the list of suffixes as small as possible</p>
</li>
<li>
<p>Try to put a suffix in the import statement as much as possible.</p>
</li>
</ul>
<p>If you want to optimize to the extreme, it‚Äôs not recommended to use extensionx, because it will consume some performance, even though it can bring some convenience.</p>
<h3 id="extract-css">Extract CSS</h3>
<p>With the help of mini-css-extract-plugin: this plugin extracts CSS to a separate file, creates a CSS file for each JS file containing CSS, and supports on-demand loading of CSS and SourceMaps.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="k">const</span> <span class="n">MiniCssExtractPlugin</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s2">&#34;mini-css-extract-plugin&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="n">test</span><span class="p">:</span> <span class="o">/</span>\<span class="o">.</span><span class="n">less</span><span class="o">$/</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="n">use</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="o">//</span> <span class="s2">&#34;style-loader&#34;</span><span class="p">,</span> <span class="o">//</span> <span class="n">No</span> <span class="n">need</span> <span class="k">for</span> <span class="n">style</span><span class="o">-</span><span class="n">loader</span> <span class="n">anymore</span><span class="p">,</span> <span class="n">use</span> <span class="n">MiniCssExtractPlugin</span><span class="o">.</span><span class="n">loader</span> <span class="n">instead</span>
</span></span><span class="line"><span class="cl">  <span class="n">MiniCssExtractPlugin</span><span class="o">.</span><span class="n">loader</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;css-loader&#34;</span><span class="p">,</span> <span class="o">//</span> <span class="n">Compile</span> <span class="n">css</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;postcss-loader&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;less-loader&#34;</span> <span class="o">//</span> <span class="n">Compile</span> <span class="n">less</span>
</span></span><span class="line"><span class="cl"> <span class="p">]</span>
</span></span><span class="line"><span class="cl"> <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="n">plugins</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="n">new</span> <span class="n">MiniCssExtractPlugin</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">   <span class="n">filename</span><span class="p">:</span> <span class="s2">&#34;css/[name]_[contenthash:6].css&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="n">chunkFilename</span><span class="p">:</span> <span class="s2">&#34;[id].css&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl"> <span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="code-compression">Code Compression</h3>
<ul>
<li>JS Code Compression</li>
</ul>
<p>With mode:production, terser-webpack-plugin is used.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">module</span><span class="o">.</span><span class="n">exports</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">//</span> <span class="o">...</span>
</span></span><span class="line"><span class="cl">    <span class="n">optimization</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">minimize</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">minimizer</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="n">new</span> <span class="n">TerserPlugin</span><span class="p">({}),</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>CSS Code Compression</li>
</ul>
<p>Using css-minimizer-webpack-plugin</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">module</span><span class="o">.</span><span class="n">exports</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">//</span> <span class="o">...</span>
</span></span><span class="line"><span class="cl">    <span class="n">optimization</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">minimize</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">minimizer</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="n">new</span> <span class="n">CssMinimizerPlugin</span><span class="p">({})</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>HTML File Code Compression</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">module</span><span class="o">.</span><span class="n">exports</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">    <span class="n">plugin</span><span class="p">:[</span>
</span></span><span class="line"><span class="cl">        <span class="n">new</span> <span class="n">HtmlwebpackPlugin</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="o">...</span>
</span></span><span class="line"><span class="cl">            <span class="n">minify</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">                <span class="n">minifyCSS</span><span class="p">:</span><span class="bp">false</span><span class="p">,</span> <span class="o">//</span> <span class="n">Whether</span> <span class="n">to</span> <span class="n">compress</span> <span class="n">css</span>
</span></span><span class="line"><span class="cl">                <span class="n">collapseWhitespace</span><span class="p">:</span><span class="bp">false</span><span class="p">,</span> <span class="o">//</span> <span class="n">Whether</span> <span class="n">to</span> <span class="n">collapse</span> <span class="n">whitespace</span>
</span></span><span class="line"><span class="cl">                <span class="n">removeComments</span><span class="p">:</span><span class="bp">true</span> <span class="o">//</span> <span class="n">Whether</span> <span class="n">to</span> <span class="n">remove</span> <span class="n">comments</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>When you set minify, it will actually use another plugin html-minifier-terser.</p>
<ul>
<li>File Size Compression</li>
</ul>
<p>Compress the size of the file to reduce the bandwidth loss during HTTP transmission.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">npm install compression-webpack-plugin -D
</span></span><span class="line"><span class="cl">new ComepressionPlugin({
</span></span><span class="line"><span class="cl">    test:/.(css|js)$/,  // files that need to be compressed
</span></span><span class="line"><span class="cl">    threshold:500, // Set filesize for compression to start
</span></span><span class="line"><span class="cl">    minRatio:0.7, // minimum compression ratio
</span></span><span class="line"><span class="cl">    algorithm:&#34;gzip&#34;, // compression algorithm to be used
</span></span><span class="line"><span class="cl">})
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Image Compression</li>
</ul>
<p>Normally, after packaging, the size of some image files is far larger than that of js or css files, so image compression is quite important.</p>
<p>The configuration method is as follows:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">module</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="n">rules</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="n">test</span><span class="p">:</span> <span class="o">/.</span><span class="p">(</span><span class="n">png</span><span class="o">|</span><span class="n">jpg</span><span class="o">|</span><span class="n">gif</span><span class="p">)</span><span class="o">$/</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="n">use</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">loader</span><span class="p">:</span> <span class="s1">&#39;file-loader&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="n">options</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;[name]_[hash].[ext]&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">outputPath</span><span class="p">:</span> <span class="s1">&#39;images/&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="n">loader</span><span class="p">:</span> <span class="s1">&#39;image-webpack-loader&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="n">options</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="o">//</span> <span class="n">Configuration</span> <span class="k">for</span> <span class="n">compressing</span> <span class="n">jpeg</span>
</span></span><span class="line"><span class="cl">            <span class="n">mozjpeg</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="n">progressive</span><span class="p">:</span> <span class="bp">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">              <span class="n">quality</span><span class="p">:</span> <span class="mi">65</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="o">//</span> <span class="n">Using</span> <span class="n">imagemin</span><span class="o">**-</span><span class="n">optipng</span> <span class="n">to</span> <span class="n">compress</span> <span class="n">png</span><span class="p">,</span> <span class="n">with</span> <span class="n">enabled</span><span class="p">:</span> <span class="bp">false</span> <span class="n">to</span> <span class="n">turn</span> <span class="n">it</span> <span class="n">off</span>
</span></span><span class="line"><span class="cl">            <span class="n">optipng</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="n">enabled</span><span class="p">:</span> <span class="bp">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="o">//</span> <span class="n">Using</span> <span class="n">imagemin</span><span class="o">-</span><span class="n">pngquant</span> <span class="n">to</span> <span class="n">compress</span> <span class="n">png</span>
</span></span><span class="line"><span class="cl">            <span class="n">pngquant</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="n">quality</span><span class="p">:</span> <span class="s1">&#39;65-90&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">              <span class="n">speed</span><span class="p">:</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="o">//</span> <span class="n">Configuration</span> <span class="k">for</span> <span class="n">compressing</span> <span class="n">gif</span>
</span></span><span class="line"><span class="cl">            <span class="n">gifsicle</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="n">interlaced</span><span class="p">:</span> <span class="bp">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="o">//</span> <span class="n">Enable</span> <span class="n">webp</span><span class="p">,</span> <span class="n">will</span> <span class="n">compress</span> <span class="n">jpg</span> <span class="ow">and</span> <span class="n">png</span> <span class="n">images</span> <span class="n">into</span> <span class="n">webp</span> <span class="n">format</span>
</span></span><span class="line"><span class="cl">            <span class="n">webp</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="n">quality</span><span class="p">:</span> <span class="mi">75</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="tree-shaking-to-remove-dead-code">Tree Shaking to Remove Dead Code</h3>
<p>Tree Shaking is a term in computing that means eliminating dead code, or code that is no longer being used. It relies on the static syntax analysis of ES Module (without executing any code, we can clearly understand the dependency relationship of the module)</p>
<p>Webpack provides two different approaches to implementing Tree Shaking:</p>
<ul>
<li>
<p><strong>usedExports</strong>: By marking whether certain functions are used and then optimizing them through Terser</p>
</li>
<li>
<p><strong>sideEffects</strong>: It skips the entire module/file and directly checks if the file has side effects</p>
</li>
</ul>
<p>Different configuration plans have different effects.</p>
<p><strong>usedExports</strong></p>
<p>The configuration method is very simple, you just need to set usedExports to true.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">module</span><span class="o">.</span><span class="n">exports</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">    <span class="n">optimization</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">        <span class="n">usedExports</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>After using, the unused code in webpack packaging will have an ‚Äúunused harmony export mul‚Äù comment added to notify Terser that this section of code can be deleted when optimizing.</p>
<p><strong>sideEffects</strong></p>
<p>sideEffects is used to inform the webpack compiler which modules have side effects. The configuration method is to set the sideEffects attribute in the package.json.</p>
<p>If sideEffects is set to false, it informs webpack that it can safely delete unused exports.</p>
<p>If some files need to be retained, it can be set in an array form.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&#34;sideEffecis&#34;:[
</span></span><span class="line"><span class="cl">    &#34;./src/util/format.js&#34;,
</span></span><span class="line"><span class="cl">    &#34;*.css&#34; // All CSS files
</span></span><span class="line"><span class="cl">]
</span></span></code></pre></td></tr></table>
</div>
</div><p>The above are all about the tree shaking of javascript. CSS can also achieve tree shaking.</p>
<p><strong>css tree shaking</strong></p>
<p>You can install the PurgeCss plugin for CSS optimization.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">npm</span> <span class="n">install</span> <span class="n">purgecss</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">webpack</span> <span class="o">-</span><span class="n">D</span>
</span></span><span class="line"><span class="cl"><span class="k">const</span> <span class="n">PurgeCssPlugin</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s1">&#39;purgecss-webpack-plugin&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">module</span><span class="o">.</span><span class="n">exports</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">    <span class="n">plugins</span><span class="p">:[</span>
</span></span><span class="line"><span class="cl">        <span class="n">new</span> <span class="n">PurgeCssPlugin</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="n">path</span><span class="p">:</span><span class="n">glob</span><span class="o">.</span><span class="n">sync</span><span class="p">(</span><span class="err">`</span><span class="o">$</span><span class="p">{</span><span class="n">path</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="s1">&#39;./src&#39;</span><span class="p">)}</span><span class="o">/**/*</span><span class="err">`</span><span class="p">),</span> <span class="p">{</span><span class="n">nodir</span><span class="p">:</span><span class="bp">true</span><span class="p">}</span><span class="o">//</span> <span class="n">all</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">src</span>
</span></span><span class="line"><span class="cl">            <span class="n">satelist</span><span class="p">:</span><span class="n">function</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">standard</span><span class="p">:[</span><span class="s2">&#34;html&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>paths: Represents which directories need to be analyzed. It is used in conjunction with glob.</p>
</li>
<li>
<p>By default, Purgecss will remove the style of our HTML tags. If we want to keep it, we can add a safelist attribute.</p>
</li>
</ul>
<h3 id="code-splitting">Code Splitting</h3>
<p>This is the process of dividing code into different bundles, which can then be loaded on demand or in parallel.</p>
<p>By default, all the JavaScript code (business code, third-party dependencies, currently unused modules) is loaded on the homepage, which may impact the page load speed.</p>
<p>Code splitting can break the code into smaller bundles and control the load priority of resources to improve the performance of code loading.</p>
<p>This can be achieved by using the SplitChunksPlugin, which is already integrated in webpack by default, and only needs configuration.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">module</span><span class="o">.</span><span class="n">exports</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">    <span class="n">optimization</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">        <span class="n">splitChunks</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">            <span class="n">chunks</span><span class="p">:</span><span class="s2">&#34;all&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>The main attributes of splitChunks are as follows:</p>
<ul>
<li>
<p><strong>Chunks</strong>: This handles synchronous or asynchronous code.</p>
</li>
<li>
<p><strong>minSize</strong>: The size of the split package. It must be at least minSize. If the package size does not exceed minSize, this package will not be split.</p>
</li>
<li>
<p><strong>maxSize</strong>: Packages larger than maxSize will be split into packages that are not smaller than minSize.</p>
</li>
<li>
<p><strong>minChunks</strong>: The number of times it is quoted, the default is 1.</p>
</li>
</ul>
<p>Multi-threaded Packaging to Improve Packaging Speed.</p>
<h2 id="vue">Vue</h2>
<ul>
<li>
<p>Add a key in v-for</p>
</li>
<li>
<p>Lazy load routes</p>
</li>
<li>
<p>Use third-party plugins on demand</p>
</li>
<li>
<p>Make reasonable use of computed and watch</p>
</li>
<li>
<p>Avoid using v-if while using v-for</p>
</li>
<li>
<p>Destroy events when destroy, such as events added by addEventListener, setTimeout, setInterval, etc.</p>
</li>
<li>
<p>When rendering large lists, optimize by using virtual lists.</p>
</li>
<li>
<p>Use Keep-Alive to cache components and avoid repeated rendering of components.</p>
</li>
<li>
<p>Use Teleport to render the component‚Äôs DOM into a designated container, thus avoiding unnecessary DOM operations.</p>
</li>
<li>
<p>Use Suspense to display a placeholder while the component is not yet loaded, thus avoiding repeated rendering of components.</p>
</li>
<li>
<p>Use Fragments to avoid unnecessary DOM operations.</p>
</li>
<li>
<p>Use Memoization to avoid unnecessary calculations.</p>
</li>
</ul>
<h2 id="react">React</h2>
<ul>
<li>
<p>Add a key when looping with map</p>
</li>
<li>
<p>Lazy load routes</p>
</li>
<li>
<p>Use third-party plugins on demand</p>
</li>
<li>
<p>Use scu, memo or PureComponent to avoid unnecessary rendering</p>
</li>
<li>
<p>Make reasonable use of useMemo, memo, useCallback</p>
</li>
</ul>
<p>These three are all applied in caching results to avoid unnecessary calculations or rendering when the dependent value has not changed.</p>
<ul>
<li>
<p>useCallback is used to ‚Äúremember‚Äù a function. When its dependent item does not change, the reference of the function will not be reassigned with the refresh of the component. We can use useCallback to modify it when we think a function does not need to update its reference address with the update of the component.</p>
</li>
<li>
<p>React.memo is used to ‚Äúremember‚Äù a component. When it receives props that have not changed, it will return the result of the last rendering, and will not re-execute the function to return a new rendering result.</p>
</li>
<li>
<p>React.useMemo is a kind of ‚Äúmemory‚Äù for value calculation. When the dependent item does not change, there is no need to calculate it again, just use the previous value. For the component, one of the benefits is that it can reduce some calculations and avoid some unnecessary rendering. When we encounter some data that needs to be calculated within the component, we can consider React.useMemo.</p>
</li>
</ul>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/javascript/">Javascript</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/understanding-definemodel-in-vue3/">
        
        
            <div class="article-image">
                
                    <img src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*XNUMO2PM_SwVgmdGARQtCQ.png" loading="lazy" data-key="" data-hash="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*XNUMO2PM_SwVgmdGARQtCQ.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Understanding defineModel in Vue3</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/understanding-fragment-in-vue3/">
        
        
            <div class="article-image">
                
                    <img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YMMs8s-H6fct1k8DJ1vLRw.png" loading="lazy" data-key="" data-hash="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YMMs8s-H6fct1k8DJ1vLRw.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Understanding Fragment in Vue3</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/understanding-teleport-in-vue3/">
        
        
            <div class="article-image">
                
                    <img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GgMh0JyvKDIrI7ahnm8uiQ.jpeg" loading="lazy" data-key="" data-hash="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GgMh0JyvKDIrI7ahnm8uiQ.jpeg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Understanding Teleport in Vue3</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/understanding-async-components-in-vue3/">
        
        
            <div class="article-image">
                
                    <img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SoXuFiQrG7Mex4MN6hmO3g.jpeg" loading="lazy" data-key="" data-hash="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SoXuFiQrG7Mex4MN6hmO3g.jpeg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Understanding Async Components in Vue3</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/understanding-watch-and-watcheffect-in-vue3/">
        
        
            <div class="article-image">
                
                    <img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v6hSD9YqWXc8J6oR-4kQsQ.png" loading="lazy" data-key="" data-hash="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v6hSD9YqWXc8J6oR-4kQsQ.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Understanding watch and watchEffect in Vue3</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script
    src="https://giscus.app/client.js"
    data-repo="kxming/skstory"
    data-repo-id="R_kgDOLehX4A"
    data-category="Announcements"
    data-category-id="DIC_kwDOLehX4M4Cd4Vx"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="light"
    data-lang="en"
    crossorigin="anonymous"
    async
></script>
<script>
    function setGiscusTheme(theme) {
        let giscus = document.querySelector("iframe.giscus-frame");
        if (giscus) {
            giscus.contentWindow.postMessage(
                {
                    giscus: {
                        setConfig: {
                            theme: theme,
                        },
                    },
                },
                "https://giscus.app"
            );
        }
    }

    (function () {
        addEventListener("message", (e) => {
            if (event.origin !== "https://giscus.app") return;
            handler();
        });
        window.addEventListener("onColorSchemeChange", handler);

        function handler() {
            if (document.documentElement.dataset.scheme === "light") {
                setGiscusTheme('light');
            } else {
                setGiscusTheme('dark_dimmed');
            }
        }
    })();
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2024 SK Story
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.24.1">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
